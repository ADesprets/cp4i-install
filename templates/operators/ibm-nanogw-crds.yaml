apiVersion: apiextensions.k8s.io/v1
kind: CustomResourceDefinition
metadata:
  name: apis.nano.datapower.ibm.com
spec:
  group: nano.datapower.ibm.com
  names:
    categories:
    - dpn
    kind: API
    plural: apis
    shortNames: []
    singular: api
  scope: Namespaced
  versions:
  - additionalPrinterColumns:
    - description: age of resource
      jsonPath: .metadata.creationTimestamp
      name: Age
      type: date
    name: v1alpha1
    schema:
      openAPIV3Schema:
        description: Auto-generated derived type for ApiSpec via `CustomResource`
        properties:
          spec:
            properties:
              assembly:
                type: object
                x-kubernetes-preserve-unknown-fields: true
              cors:
                description: A list of CORS rules, to be attempted in the order listed.
                  The first rule that matches the requested Origin is applied. If
                  no rule matches the Origin, the CORS request is denied. If the list
                  is empty, CORS is not enabled for this API, and CORS requests to
                  this API receive no special handling.
                items:
                  description: A rule that specifies how to handle a CORS request.
                    A CORS rule contains a list of origins that is compared with the
                    request Origin to determine if the rule applies.
                  properties:
                    action:
                      description: Is this an Allow or Deny rule? Specifically, whether
                        the origins in `originList` are allowed or denied by this
                        rule.
                      enum:
                      - allow
                      - deny
                      type: string
                    allowCredentials:
                      default: false
                      description: 'If true, return `Access-Control-Allow-Credentials:
                        true`. If false (default), the header `Access-Control-Allow-Credentials`
                        is not returned.'
                      type: boolean
                    allowHeaders:
                      description: 'Headers allowed in the follow-on to a preflight
                        request. If empty, allow all headers: the headers requested
                        in `Access-Control-Request-Headers` are all returned in the
                        header `Access-Control-Allow-Headers`'
                      items:
                        type: string
                      type: array
                    allowMethods:
                      description: 'Methods allowed in the follow-on to a preflight
                        request. If empty, allow any method: the method requested
                        by header `Access-Control-Request-Method` is returned in `Access-Control-Allow-Methods`'
                      items:
                        type: string
                      type: array
                    exposeHeaders:
                      description: Headers that can be exposed as part of a response.
                        If not specified, the header `Access-Control-Expose-Headers`
                        is returned with default values.
                      nullable: true
                      properties:
                        backend:
                          default: false
                          type: boolean
                        custom:
                          minLength: 1
                          nullable: true
                          type: string
                        predefined:
                          default: true
                          type: boolean
                      type: object
                    maxAgeSeconds:
                      description: Max age (seconds) for which the preflight response
                        is valid. If not specified, the header `Access-Control-Max-Age`
                        is not returned.
                      format: uint16
                      minimum: 0
                      nullable: true
                      type: integer
                    originList:
                      description: |-
                        Origins to which this rule applies. Origins include scheme (e.g., `http:`, `https:`, etc.), hostname, and optionally port. (For example, `http://example.com` or `https://example.com:1234`). Origin names may contain a `*` wildcard character which will match 0 or more characters.

                        If `action` = `allow`, specifies origins allowed by this rule. If the requested Origin does not match any origin in this list, this rule does not apply, and the next rule in the rules list (if any) is attempted.

                        Advanced: If `action` = `deny`, specifies origins that are denied by this rule. A requested origin that matches any element in the list will be denied; all other origins are allowed and the settings in the rule apply. A Deny rule always results in either the Origin being accepted (because it did not appear in `originList`) and the rule applied, OR the CORS request being rejected; it never falls through to the next rule, as Allow rules do.

                        Therefore, at most one Deny rule may appear in a list of CORS rules, and it must be the last (or only) rule.
                      items:
                        type: string
                      type: array
                  required:
                  - action
                  - originList
                  type: object
                type: array
              definition:
                oneOf:
                - required:
                  - OpenAPIv3.0
                properties:
                  OpenAPIv3.0:
                    properties:
                      configMap:
                        type: string
                      securitySchemes:
                        nullable: true
                        properties:
                          apiKeyTypes:
                            additionalProperties:
                              enum:
                              - client-id
                              - client-secret
                              type: string
                            type: object
                        type: object
                    required:
                    - configMap
                    type: object
                type: object
              properties:
                additionalProperties:
                  type: string
                type: object
              telemetry:
                description: Telemetry configuration for the API.
                nullable: true
                properties:
                  attributes:
                    additionalProperties:
                      type: string
                    description: Additional attributes to be passed on the transaction
                      spans
                    type: object
                  verbosity:
                    description: Tracing verbosity settings that control how much
                      data is sent in telemetry
                    items:
                      properties:
                        inboundLevel:
                          description: Level of data collected and sent in trace for
                            the inbound transaction
                          enum:
                          - none
                          - basic
                          - normal
                          - detailed
                          nullable: true
                          type: string
                        level:
                          default: normal
                          description: Level of data to be collected and sent by default
                          enum:
                          - none
                          - basic
                          - normal
                          - detailed
                          type: string
                        onSuccessTrimTo:
                          description: Level of data to reduce to for successful transactions
                          enum:
                          - none
                          - basic
                          - normal
                          - detailed
                          nullable: true
                          type: string
                        operations:
                          description: Apply this to only specific transactions matching
                            these operations
                          items:
                            anyOf:
                            - required:
                              - id
                            - required:
                              - method
                              - path
                            - required:
                              - path
                            - required:
                              - method
                            description: Defines an operation using `operation_id`
                              or path and/or method
                            properties:
                              id:
                                type: string
                              method:
                                type: string
                              path:
                                type: string
                            type: object
                          type: array
                        outboundLevel:
                          description: Level of data collected and sent in trace for
                            the outbound/backend transaction
                          enum:
                          - none
                          - basic
                          - normal
                          - detailed
                          nullable: true
                          type: string
                      type: object
                    type: array
                type: object
              uriSchemes:
                items:
                  enum:
                  - http
                  - https
                  type: string
                minItems: 1
                type: array
            required:
            - assembly
            - definition
            type: object
          status:
            nullable: true
            properties:
              conditions:
                items:
                  description: Condition contains details for one aspect of the current
                    state of this API Resource.
                  properties:
                    lastTransitionTime:
                      description: lastTransitionTime is the last time the condition
                        transitioned from one status to another. This should be when
                        the underlying condition changed.  If that is not known, then
                        using the time when the API field changed is acceptable.
                      format: date-time
                      type: string
                    message:
                      description: message is a human readable message indicating
                        details about the transition. This may be an empty string.
                      type: string
                    observedGeneration:
                      description: observedGeneration represents the .metadata.generation
                        that the condition was set based upon. For instance, if .metadata.generation
                        is currently 12, but the .status.conditions[x].observedGeneration
                        is 9, the condition is out of date with respect to the current
                        state of the instance.
                      format: int64
                      type: integer
                    reason:
                      description: reason contains a programmatic identifier indicating
                        the reason for the condition's last transition. Producers
                        of specific condition types may define expected values and
                        meanings for this field, and whether the values are considered
                        a guaranteed API. The value should be a CamelCase string.
                        This field may not be empty.
                      type: string
                    status:
                      description: status of the condition, one of True, False, Unknown.
                      type: string
                    type:
                      description: type of condition in CamelCase or in foo.example.com/CamelCase.
                      type: string
                  required:
                  - lastTransitionTime
                  - message
                  - reason
                  - status
                  - type
                  type: object
                nullable: true
                type: array
              configMap:
                nullable: true
                type: string
              dependencies:
                description: Describes the dependencies for this resource's assembly.
                nullable: true
                properties:
                  cacheService:
                    default: false
                    description: True if this resource's assembly depends on a cacheService
                      configuration.
                    type: boolean
                  customSqlInjectionFilters:
                    default: []
                    description: Names of custom SQL injection filters required by
                      this resource's assembly.
                    items:
                      type: string
                    type: array
                  distributedVariableService:
                    default: false
                    description: True if this resource's assembly depends on a distributedVariableService
                      configuration.
                    type: boolean
                  jwtProviders:
                    default: []
                    description: List of JWTProvider resources depended on by this
                      resource's assembly.
                    items:
                      type: string
                    type: array
                  loadBalancerService:
                    default: false
                    description: True if this resource's assembly depends on a loadBalancerService
                      configuration.
                    type: boolean
                  oauthProviders:
                    default: []
                    description: List of OAuthProvider resources depended on by this
                      resource's assembly.
                    items:
                      type: string
                    type: array
                  plans:
                    default: false
                    description: True is this resource's assembly depends on plans.
                    type: boolean
                  rateLimitService:
                    default: false
                    description: True if this resource's assembly depends on a rateLimitService
                      configuration.
                    type: boolean
                  secrets:
                    additionalProperties:
                      description: Defines sets of required and optional data key(s)
                        within a Secret.
                      properties:
                        optional:
                          description: Keys which may be used if present in the Secret.
                          items:
                            type: string
                          type: array
                        required:
                          description: Keys which are required to exist in the Secret.
                          items:
                            type: string
                          type: array
                      type: object
                    default: {}
                    description: Secrets depended on by this resource's assembly.
                      Maps Secret name to required and optional data key(s) within
                      Secret.
                    type: object
                  tlsClientProfiles:
                    default: []
                    description: List of TlsClientProfile resources depended on by
                      this resource's assembly.
                    items:
                      type: string
                    type: array
                  userDefinedPolicies:
                    default: []
                    description: List of UserDefinedPolicy resources depended on by
                      this resource's assembly.
                    items:
                      type: string
                    type: array
                type: object
              hash:
                nullable: true
                type: string
            type: object
        required:
        - spec
        title: ApiValidated
        type: object
        x-kubernetes-validations:
        - message: metadata.name must be 32 characters or less
          rule: self.metadata.name.size() <= 32
    served: true
    storage: true
    subresources:
      status: {}
---
apiVersion: apiextensions.k8s.io/v1
kind: CustomResourceDefinition
metadata:
  name: assemblies.nano.datapower.ibm.com
spec:
  group: nano.datapower.ibm.com
  names:
    categories:
    - dpn
    kind: Assembly
    plural: assemblies
    shortNames:
    - asm
    singular: assembly
  scope: Namespaced
  versions:
  - additionalPrinterColumns:
    - description: age of resource
      jsonPath: .metadata.creationTimestamp
      name: Age
      type: date
    name: v1alpha1
    schema:
      openAPIV3Schema:
        description: Auto-generated derived type for AssemblySpec via `CustomResource`
        properties:
          spec:
            properties:
              assembly:
                description: Assembly definition
                type: object
                x-kubernetes-preserve-unknown-fields: true
              type:
                default: basic
                description: Controls how the `assembly` is parsed and used
                enum:
                - basic
                - flow
                type: string
            required:
            - assembly
            type: object
          status:
            nullable: true
            properties:
              conditions:
                items:
                  description: Condition contains details for one aspect of the current
                    state of this API Resource.
                  properties:
                    lastTransitionTime:
                      description: lastTransitionTime is the last time the condition
                        transitioned from one status to another. This should be when
                        the underlying condition changed.  If that is not known, then
                        using the time when the API field changed is acceptable.
                      format: date-time
                      type: string
                    message:
                      description: message is a human readable message indicating
                        details about the transition. This may be an empty string.
                      type: string
                    observedGeneration:
                      description: observedGeneration represents the .metadata.generation
                        that the condition was set based upon. For instance, if .metadata.generation
                        is currently 12, but the .status.conditions[x].observedGeneration
                        is 9, the condition is out of date with respect to the current
                        state of the instance.
                      format: int64
                      type: integer
                    reason:
                      description: reason contains a programmatic identifier indicating
                        the reason for the condition's last transition. Producers
                        of specific condition types may define expected values and
                        meanings for this field, and whether the values are considered
                        a guaranteed API. The value should be a CamelCase string.
                        This field may not be empty.
                      type: string
                    status:
                      description: status of the condition, one of True, False, Unknown.
                      type: string
                    type:
                      description: type of condition in CamelCase or in foo.example.com/CamelCase.
                      type: string
                  required:
                  - lastTransitionTime
                  - message
                  - reason
                  - status
                  - type
                  type: object
                nullable: true
                type: array
              configMap:
                nullable: true
                type: string
              dependencies:
                description: Describes the dependencies for this resource's assembly.
                nullable: true
                properties:
                  cacheService:
                    default: false
                    description: True if this resource's assembly depends on a cacheService
                      configuration.
                    type: boolean
                  customSqlInjectionFilters:
                    default: []
                    description: Names of custom SQL injection filters required by
                      this resource's assembly.
                    items:
                      type: string
                    type: array
                  distributedVariableService:
                    default: false
                    description: True if this resource's assembly depends on a distributedVariableService
                      configuration.
                    type: boolean
                  jwtProviders:
                    default: []
                    description: List of JWTProvider resources depended on by this
                      resource's assembly.
                    items:
                      type: string
                    type: array
                  loadBalancerService:
                    default: false
                    description: True if this resource's assembly depends on a loadBalancerService
                      configuration.
                    type: boolean
                  oauthProviders:
                    default: []
                    description: List of OAuthProvider resources depended on by this
                      resource's assembly.
                    items:
                      type: string
                    type: array
                  plans:
                    default: false
                    description: True is this resource's assembly depends on plans.
                    type: boolean
                  rateLimitService:
                    default: false
                    description: True if this resource's assembly depends on a rateLimitService
                      configuration.
                    type: boolean
                  secrets:
                    additionalProperties:
                      description: Defines sets of required and optional data key(s)
                        within a Secret.
                      properties:
                        optional:
                          description: Keys which may be used if present in the Secret.
                          items:
                            type: string
                          type: array
                        required:
                          description: Keys which are required to exist in the Secret.
                          items:
                            type: string
                          type: array
                      type: object
                    default: {}
                    description: Secrets depended on by this resource's assembly.
                      Maps Secret name to required and optional data key(s) within
                      Secret.
                    type: object
                  tlsClientProfiles:
                    default: []
                    description: List of TlsClientProfile resources depended on by
                      this resource's assembly.
                    items:
                      type: string
                    type: array
                  userDefinedPolicies:
                    default: []
                    description: List of UserDefinedPolicy resources depended on by
                      this resource's assembly.
                    items:
                      type: string
                    type: array
                type: object
              hash:
                nullable: true
                type: string
            type: object
        required:
        - spec
        title: AssemblyValidated
        type: object
        x-kubernetes-validations:
        - message: metadata.name must be 32 characters or less
          rule: self.metadata.name.size() <= 32
    served: true
    storage: true
    subresources:
      status: {}
---
apiVersion: apiextensions.k8s.io/v1
kind: CustomResourceDefinition
metadata:
  name: autoscaleconfigs.nano.datapower.ibm.com
spec:
  group: nano.datapower.ibm.com
  names:
    categories:
    - dpn
    kind: AutoScaleConfig
    plural: autoscaleconfigs
    shortNames:
    - asc
    singular: autoscaleconfig
  scope: Namespaced
  versions:
  - additionalPrinterColumns:
    - description: state of resource
      jsonPath: .spec.enabled
      name: Enabled
      type: boolean
    - description: type of resource
      jsonPath: .spec.type
      name: Type
      type: string
    - description: kind of target
      jsonPath: .spec.target.kind
      name: Target/Kind
      type: string
    - description: age of resource
      jsonPath: .metadata.creationTimestamp
      name: Age
      type: date
    name: v1alpha1
    schema:
      openAPIV3Schema:
        description: Auto-generated derived type for AutoScaleConfigSpec via `CustomResource`
        properties:
          spec:
            properties:
              enabled:
                default: false
                description: Enable this AutoScaleConfig
                type: boolean
              fromZero:
                description: Configuration for scaling from zero replicas. Required
                  when toZero is configured. Does not apply to all targets, see `target`
                  description for details.
                nullable: true
                properties:
                  replicas:
                    description: Set the desired replica count when scaling from zero.
                    format: int32
                    minimum: 1
                    type: integer
                required:
                - replicas
                type: object
              hpa:
                description: Parameters for a HorizontalPodAutoscaler when autoscaling
                  between some minimum (>= 1) and maximum number of pods
                nullable: true
                properties:
                  enabled:
                    default: true
                    description: Set to true to enable HPA. When true, a HorizontalPodAutoscaler
                      will be created and reconciled. When false, any HorizontalPodAutoscaler
                      previously created will be deleted.
                    type: boolean
                  maxReplicas:
                    description: 'Upper limit for the number of replicas to which
                      the autoscaler can scale up. Required when HPA is enabled. Minimum:
                      2. Must be greater than minReplicas.'
                    format: int32
                    minimum: 2
                    nullable: true
                    type: integer
                  minReplicas:
                    description: 'Lower limit for the number of replicas to which
                      the autoscaler can scale down. Required when HPA is enabled.
                      Minimum: 1. Must be less than maxReplicas.'
                    format: int32
                    minimum: 1
                    nullable: true
                    type: integer
                  targetUtilization:
                    description: Target average utilization percentages for pod resources.
                      Required when HPA is enabled. At least one of cpu or memory
                      must be configured when HPA is enabled. Both cpu and memory
                      may be configured.
                    nullable: true
                    properties:
                      cpu:
                        description: Target average CPU utilization percentage. May
                          be configured alongside memory. Required if memory is not
                          specified. Must be between 1 and 100, inclusive.
                        format: int32
                        maximum: 100
                        minimum: 1
                        nullable: true
                        type: integer
                      memory:
                        description: Target average memory utilization percentage.
                          May be configured alongside cpu. Required if cpu is not
                          specified. Must be between 1 and 100, inclusive.
                        format: int32
                        maximum: 100
                        minimum: 1
                        nullable: true
                        type: integer
                    type: object
                type: object
                x-kubernetes-validations:
                - message: minReplicas is required when HPA is enabled
                  rule: '!self.enabled || has(self.minReplicas)'
                - message: maxReplicas is required when HPA is enabled
                  rule: '!self.enabled || has(self.maxReplicas)'
                - message: maxReplicas must be greater than minReplicas
                  rule: '!self.enabled || (!has(self.maxReplicas) || !has(self.minReplicas))
                    || (self.maxReplicas > self.minReplicas)'
                - message: targetUtilization is required when when HPA is enabled
                  rule: '!self.enabled || has(self.targetUtilization)'
                - message: either one or both of self.targetUtilization.cpu and self.targetUtilization.memory
                    are required when HPA is enabled
                  rule: '!self.enabled || !has(self.targetUtilization) || (has(self.targetUtilization.cpu)
                    || has(self.targetUtilization.memory))'
              target:
                description: |-
                  Define the target of this AutoScaleConfig.

                  When targeting Runtimes, scaling capabilities vary by the `mode` of the selected Runtimes. Runtimes with `mode` of `basic` or `apiRouter` support `toZero`, `fromZero`, and `hpa`. Runtimes with `mode` of `gatewayApi` support `hpa`.
                properties:
                  kind:
                    description: Specify the Kubernetes resource kind this AutoScaleConfig
                      targets
                    enum:
                    - Runtime
                    type: string
                  labelSelectors:
                    description: Specify how the AutoScaleConfig discovers resources
                      to scale. If no label selectors are provided, this AutoScaleConfig
                      will apply to all resources of the specified kind in this namespace.
                    items:
                      description: A label selector is a label query over a set of
                        resources. The result of matchLabels and matchExpressions
                        are ANDed. An empty label selector matches all objects. A
                        null label selector matches no objects.
                      properties:
                        matchExpressions:
                          description: matchExpressions is a list of label selector
                            requirements. The requirements are ANDed.
                          items:
                            description: A label selector requirement is a selector
                              that contains values, a key, and an operator that relates
                              the key and values.
                            properties:
                              key:
                                description: key is the label key that the selector
                                  applies to.
                                type: string
                              operator:
                                description: operator represents a key's relationship
                                  to a set of values. Valid operators are In, NotIn,
                                  Exists and DoesNotExist.
                                type: string
                              values:
                                description: values is an array of string values.
                                  If the operator is In or NotIn, the values array
                                  must be non-empty. If the operator is Exists or
                                  DoesNotExist, the values array must be empty. This
                                  array is replaced during a strategic merge patch.
                                items:
                                  type: string
                                type: array
                            required:
                            - key
                            - operator
                            type: object
                          type: array
                        matchLabels:
                          additionalProperties:
                            type: string
                          description: matchLabels is a map of {key,value} pairs.
                            A single {key,value} in the matchLabels map is equivalent
                            to an element of matchExpressions, whose key field is
                            "key", the operator is "In", and the values array contains
                            only "value". The requirements are ANDed.
                          type: object
                      type: object
                    type: array
                required:
                - kind
                type: object
              toZero:
                description: Configuration for scaling to zero replicas. When configured,
                  fromZero must also be configured. Does not apply to all targets,
                  see `target` description for details.
                nullable: true
                properties:
                  strategy:
                    description: Controls how scale-to-zero decisions are made
                    oneOf:
                    - required:
                      - sinceLastRequest
                    properties:
                      sinceLastRequest:
                        description: Scale-to-zero if the target resource has not
                          **received** a request in the configured amount of time.
                        properties:
                          seconds:
                            format: uint32
                            minimum: 60
                            type: integer
                        required:
                        - seconds
                        type: object
                    type: object
                required:
                - strategy
                type: object
              type:
                default: default
                description: Define how this AutoScaleConfig should be applied
                enum:
                - default
                - override
                type: string
            required:
            - target
            type: object
            x-kubernetes-validations:
            - message: fromZero is required when toZero is configured
              rule: '!self.enabled || !has(self.toZero) || has(self.fromZero)'
          status:
            nullable: true
            properties:
              conditions:
                items:
                  description: Condition contains details for one aspect of the current
                    state of this API Resource.
                  properties:
                    lastTransitionTime:
                      description: lastTransitionTime is the last time the condition
                        transitioned from one status to another. This should be when
                        the underlying condition changed.  If that is not known, then
                        using the time when the API field changed is acceptable.
                      format: date-time
                      type: string
                    message:
                      description: message is a human readable message indicating
                        details about the transition. This may be an empty string.
                      type: string
                    observedGeneration:
                      description: observedGeneration represents the .metadata.generation
                        that the condition was set based upon. For instance, if .metadata.generation
                        is currently 12, but the .status.conditions[x].observedGeneration
                        is 9, the condition is out of date with respect to the current
                        state of the instance.
                      format: int64
                      type: integer
                    reason:
                      description: reason contains a programmatic identifier indicating
                        the reason for the condition's last transition. Producers
                        of specific condition types may define expected values and
                        meanings for this field, and whether the values are considered
                        a guaranteed API. The value should be a CamelCase string.
                        This field may not be empty.
                      type: string
                    status:
                      description: status of the condition, one of True, False, Unknown.
                      type: string
                    type:
                      description: type of condition in CamelCase or in foo.example.com/CamelCase.
                      type: string
                  required:
                  - lastTransitionTime
                  - message
                  - reason
                  - status
                  - type
                  type: object
                nullable: true
                type: array
              configMap:
                nullable: true
                type: string
              hash:
                nullable: true
                type: string
            type: object
        required:
        - spec
        title: AutoScaleConfigValidated
        type: object
        x-kubernetes-validations:
        - message: metadata.name must be 32 characters or less
          rule: self.metadata.name.size() <= 32
    served: true
    storage: true
    subresources:
      status: {}
---
apiVersion: apiextensions.k8s.io/v1
kind: CustomResourceDefinition
metadata:
  name: jwtproviders.nano.datapower.ibm.com
spec:
  group: nano.datapower.ibm.com
  names:
    categories:
    - dpn
    kind: JWTProvider
    plural: jwtproviders
    shortNames:
    - jwtp
    singular: jwtprovider
  scope: Namespaced
  versions:
  - additionalPrinterColumns:
    - description: age of resource
      jsonPath: .metadata.creationTimestamp
      name: Age
      type: date
    name: v1alpha1
    schema:
      openAPIV3Schema:
        description: Auto-generated derived type for JWTProviderSpec via `CustomResource`
        properties:
          spec:
            properties:
              audClaim:
                description: Expected audience claim which will use to compare against
                  the aud claim in the token payload. If this field is not configured,
                  there will be no extra validation on the aud claim.
                items:
                  type: string
                nullable: true
                type: array
              clockSkew:
                format: uint64
                maximum: 300
                minimum: 0
                nullable: true
                type: integer
              issClaim:
                description: Expected issuer claim which will use to compared against
                  the iss claim in the token payload. If this field is not configured,
                  there will be no extra validation on the iss claim.
                nullable: true
                type: string
              jwks:
                description: Specifies how JSON Web Keys (JWKs) are provided for JWT
                  validation. A JWK can be used for signing, encryption, or both (nested
                  JWTs).
                oneOf:
                - required:
                  - signing
                - required:
                  - encryption
                - required:
                  - nested
                properties:
                  encryption:
                    description: Provides a JWK source that contains encryption key
                      used for decrypting JWTs.
                    properties:
                      key:
                        oneOf:
                        - required:
                          - secret
                        - required:
                          - remote
                        properties:
                          remote:
                            description: Load JWKS from a URI endpoint.
                            properties:
                              endpoint:
                                properties:
                                  chunkedUpload:
                                    default: false
                                    description: 'Specify to use `transfer-encoding:
                                      chunked` or to use input message headers and
                                      payload type unmodified. Default to use incoming
                                      (false).'
                                    type: boolean
                                  compressRequest:
                                    default: none
                                    description: Specify which compression to use.
                                      Default to None. Set Accept-Encoding header
                                      with all supported types. Handle Content-Encoding
                                      with all supported types.
                                    enum:
                                    - br
                                    - gzip
                                    - deflate
                                    - none
                                    type: string
                                  decompressResponse:
                                    default: false
                                    description: Specify if response should be decompressed.
                                    type: boolean
                                  followRedirects:
                                    default: false
                                    description: Specify to follow redirects, default
                                      to false
                                    type: boolean
                                  persistentConnections:
                                    default: true
                                    description: Enable use of persistent connections
                                    type: boolean
                                  timeoutSeconds:
                                    description: The time to wait before a reply from
                                      the endpoint (in seconds).
                                    format: uint64
                                    minimum: 0
                                    nullable: true
                                    type: integer
                                  tlsClientProfile:
                                    description: The TLS profile to use for the secure
                                      transmission of data
                                    nullable: true
                                    type: string
                                  url:
                                    description: The URL for the target service
                                    type: string
                                  urlType:
                                    default: variables
                                    description: Indication of how url string is interpreted
                                    enum:
                                    - plain
                                    - variables
                                    - distributedVariable
                                    - jsonata
                                    type: string
                                  version:
                                    description: The HTTP version to use. The default
                                      is to keep the version of the incoming request.
                                    enum:
                                    - HTTP/1.0
                                    - HTTP/1.1
                                    - HTTP/2
                                    nullable: true
                                    type: string
                                required:
                                - url
                                type: object
                              security:
                                description: Security credentials used to authenticate
                                  with endpoints.
                                nullable: true
                                oneOf:
                                - required:
                                  - basicAuth
                                properties:
                                  basicAuth:
                                    description: Basic authentication using Kubernetes
                                      Secret.
                                    properties:
                                      secret:
                                        description: Name of the Kubernetes Secret
                                          which contains basic auth credentials. Secret
                                          data must contain key `username` and may
                                          optionally contain key `password`.
                                        type: string
                                    required:
                                    - secret
                                    type: object
                                type: object
                            required:
                            - endpoint
                            type: object
                          secret:
                            description: |-
                              Load JWKS from a Kubernetes Secret.

                              When used for signing, Secret must contain data literal 'signingKey'. When used for encryption, Secret must contain data literal 'encryptionKey'.

                              In all cases, the value(s) must be a public key in either PEM or JWK format.
                            type: string
                        type: object
                    required:
                    - key
                    type: object
                  nested:
                    description: Provides separate JWK sources for both signing and
                      encryption keys.
                    properties:
                      encryptionKey:
                        oneOf:
                        - required:
                          - secret
                        - required:
                          - remote
                        properties:
                          remote:
                            description: Load JWKS from a URI endpoint.
                            properties:
                              endpoint:
                                properties:
                                  chunkedUpload:
                                    default: false
                                    description: 'Specify to use `transfer-encoding:
                                      chunked` or to use input message headers and
                                      payload type unmodified. Default to use incoming
                                      (false).'
                                    type: boolean
                                  compressRequest:
                                    default: none
                                    description: Specify which compression to use.
                                      Default to None. Set Accept-Encoding header
                                      with all supported types. Handle Content-Encoding
                                      with all supported types.
                                    enum:
                                    - br
                                    - gzip
                                    - deflate
                                    - none
                                    type: string
                                  decompressResponse:
                                    default: false
                                    description: Specify if response should be decompressed.
                                    type: boolean
                                  followRedirects:
                                    default: false
                                    description: Specify to follow redirects, default
                                      to false
                                    type: boolean
                                  persistentConnections:
                                    default: true
                                    description: Enable use of persistent connections
                                    type: boolean
                                  timeoutSeconds:
                                    description: The time to wait before a reply from
                                      the endpoint (in seconds).
                                    format: uint64
                                    minimum: 0
                                    nullable: true
                                    type: integer
                                  tlsClientProfile:
                                    description: The TLS profile to use for the secure
                                      transmission of data
                                    nullable: true
                                    type: string
                                  url:
                                    description: The URL for the target service
                                    type: string
                                  urlType:
                                    default: variables
                                    description: Indication of how url string is interpreted
                                    enum:
                                    - plain
                                    - variables
                                    - distributedVariable
                                    - jsonata
                                    type: string
                                  version:
                                    description: The HTTP version to use. The default
                                      is to keep the version of the incoming request.
                                    enum:
                                    - HTTP/1.0
                                    - HTTP/1.1
                                    - HTTP/2
                                    nullable: true
                                    type: string
                                required:
                                - url
                                type: object
                              security:
                                description: Security credentials used to authenticate
                                  with endpoints.
                                nullable: true
                                oneOf:
                                - required:
                                  - basicAuth
                                properties:
                                  basicAuth:
                                    description: Basic authentication using Kubernetes
                                      Secret.
                                    properties:
                                      secret:
                                        description: Name of the Kubernetes Secret
                                          which contains basic auth credentials. Secret
                                          data must contain key `username` and may
                                          optionally contain key `password`.
                                        type: string
                                    required:
                                    - secret
                                    type: object
                                type: object
                            required:
                            - endpoint
                            type: object
                          secret:
                            description: |-
                              Load JWKS from a Kubernetes Secret.

                              When used for signing, Secret must contain data literal 'signingKey'. When used for encryption, Secret must contain data literal 'encryptionKey'.

                              In all cases, the value(s) must be a public key in either PEM or JWK format.
                            type: string
                        type: object
                      signingKey:
                        oneOf:
                        - required:
                          - secret
                        - required:
                          - remote
                        properties:
                          remote:
                            description: Load JWKS from a URI endpoint.
                            properties:
                              endpoint:
                                properties:
                                  chunkedUpload:
                                    default: false
                                    description: 'Specify to use `transfer-encoding:
                                      chunked` or to use input message headers and
                                      payload type unmodified. Default to use incoming
                                      (false).'
                                    type: boolean
                                  compressRequest:
                                    default: none
                                    description: Specify which compression to use.
                                      Default to None. Set Accept-Encoding header
                                      with all supported types. Handle Content-Encoding
                                      with all supported types.
                                    enum:
                                    - br
                                    - gzip
                                    - deflate
                                    - none
                                    type: string
                                  decompressResponse:
                                    default: false
                                    description: Specify if response should be decompressed.
                                    type: boolean
                                  followRedirects:
                                    default: false
                                    description: Specify to follow redirects, default
                                      to false
                                    type: boolean
                                  persistentConnections:
                                    default: true
                                    description: Enable use of persistent connections
                                    type: boolean
                                  timeoutSeconds:
                                    description: The time to wait before a reply from
                                      the endpoint (in seconds).
                                    format: uint64
                                    minimum: 0
                                    nullable: true
                                    type: integer
                                  tlsClientProfile:
                                    description: The TLS profile to use for the secure
                                      transmission of data
                                    nullable: true
                                    type: string
                                  url:
                                    description: The URL for the target service
                                    type: string
                                  urlType:
                                    default: variables
                                    description: Indication of how url string is interpreted
                                    enum:
                                    - plain
                                    - variables
                                    - distributedVariable
                                    - jsonata
                                    type: string
                                  version:
                                    description: The HTTP version to use. The default
                                      is to keep the version of the incoming request.
                                    enum:
                                    - HTTP/1.0
                                    - HTTP/1.1
                                    - HTTP/2
                                    nullable: true
                                    type: string
                                required:
                                - url
                                type: object
                              security:
                                description: Security credentials used to authenticate
                                  with endpoints.
                                nullable: true
                                oneOf:
                                - required:
                                  - basicAuth
                                properties:
                                  basicAuth:
                                    description: Basic authentication using Kubernetes
                                      Secret.
                                    properties:
                                      secret:
                                        description: Name of the Kubernetes Secret
                                          which contains basic auth credentials. Secret
                                          data must contain key `username` and may
                                          optionally contain key `password`.
                                        type: string
                                    required:
                                    - secret
                                    type: object
                                type: object
                            required:
                            - endpoint
                            type: object
                          secret:
                            description: |-
                              Load JWKS from a Kubernetes Secret.

                              When used for signing, Secret must contain data literal 'signingKey'. When used for encryption, Secret must contain data literal 'encryptionKey'.

                              In all cases, the value(s) must be a public key in either PEM or JWK format.
                            type: string
                        type: object
                    required:
                    - encryptionKey
                    - signingKey
                    type: object
                  signing:
                    description: Provides a JWK source that contains signing key used
                      for verifying JWT signatures.
                    properties:
                      key:
                        oneOf:
                        - required:
                          - secret
                        - required:
                          - remote
                        properties:
                          remote:
                            description: Load JWKS from a URI endpoint.
                            properties:
                              endpoint:
                                properties:
                                  chunkedUpload:
                                    default: false
                                    description: 'Specify to use `transfer-encoding:
                                      chunked` or to use input message headers and
                                      payload type unmodified. Default to use incoming
                                      (false).'
                                    type: boolean
                                  compressRequest:
                                    default: none
                                    description: Specify which compression to use.
                                      Default to None. Set Accept-Encoding header
                                      with all supported types. Handle Content-Encoding
                                      with all supported types.
                                    enum:
                                    - br
                                    - gzip
                                    - deflate
                                    - none
                                    type: string
                                  decompressResponse:
                                    default: false
                                    description: Specify if response should be decompressed.
                                    type: boolean
                                  followRedirects:
                                    default: false
                                    description: Specify to follow redirects, default
                                      to false
                                    type: boolean
                                  persistentConnections:
                                    default: true
                                    description: Enable use of persistent connections
                                    type: boolean
                                  timeoutSeconds:
                                    description: The time to wait before a reply from
                                      the endpoint (in seconds).
                                    format: uint64
                                    minimum: 0
                                    nullable: true
                                    type: integer
                                  tlsClientProfile:
                                    description: The TLS profile to use for the secure
                                      transmission of data
                                    nullable: true
                                    type: string
                                  url:
                                    description: The URL for the target service
                                    type: string
                                  urlType:
                                    default: variables
                                    description: Indication of how url string is interpreted
                                    enum:
                                    - plain
                                    - variables
                                    - distributedVariable
                                    - jsonata
                                    type: string
                                  version:
                                    description: The HTTP version to use. The default
                                      is to keep the version of the incoming request.
                                    enum:
                                    - HTTP/1.0
                                    - HTTP/1.1
                                    - HTTP/2
                                    nullable: true
                                    type: string
                                required:
                                - url
                                type: object
                              security:
                                description: Security credentials used to authenticate
                                  with endpoints.
                                nullable: true
                                oneOf:
                                - required:
                                  - basicAuth
                                properties:
                                  basicAuth:
                                    description: Basic authentication using Kubernetes
                                      Secret.
                                    properties:
                                      secret:
                                        description: Name of the Kubernetes Secret
                                          which contains basic auth credentials. Secret
                                          data must contain key `username` and may
                                          optionally contain key `password`.
                                        type: string
                                    required:
                                    - secret
                                    type: object
                                type: object
                            required:
                            - endpoint
                            type: object
                          secret:
                            description: |-
                              Load JWKS from a Kubernetes Secret.

                              When used for signing, Secret must contain data literal 'signingKey'. When used for encryption, Secret must contain data literal 'encryptionKey'.

                              In all cases, the value(s) must be a public key in either PEM or JWK format.
                            type: string
                        type: object
                    required:
                    - key
                    type: object
                type: object
            required:
            - jwks
            type: object
          status:
            nullable: true
            properties:
              conditions:
                items:
                  description: Condition contains details for one aspect of the current
                    state of this API Resource.
                  properties:
                    lastTransitionTime:
                      description: lastTransitionTime is the last time the condition
                        transitioned from one status to another. This should be when
                        the underlying condition changed.  If that is not known, then
                        using the time when the API field changed is acceptable.
                      format: date-time
                      type: string
                    message:
                      description: message is a human readable message indicating
                        details about the transition. This may be an empty string.
                      type: string
                    observedGeneration:
                      description: observedGeneration represents the .metadata.generation
                        that the condition was set based upon. For instance, if .metadata.generation
                        is currently 12, but the .status.conditions[x].observedGeneration
                        is 9, the condition is out of date with respect to the current
                        state of the instance.
                      format: int64
                      type: integer
                    reason:
                      description: reason contains a programmatic identifier indicating
                        the reason for the condition's last transition. Producers
                        of specific condition types may define expected values and
                        meanings for this field, and whether the values are considered
                        a guaranteed API. The value should be a CamelCase string.
                        This field may not be empty.
                      type: string
                    status:
                      description: status of the condition, one of True, False, Unknown.
                      type: string
                    type:
                      description: type of condition in CamelCase or in foo.example.com/CamelCase.
                      type: string
                  required:
                  - lastTransitionTime
                  - message
                  - reason
                  - status
                  - type
                  type: object
                nullable: true
                type: array
              configMap:
                description: ConfigMap holding the JWTProvider configuration for deployment.
                nullable: true
                type: string
              dependencies:
                description: Dependencies of this JWTProvider.
                nullable: true
                properties:
                  secrets:
                    additionalProperties:
                      description: Defines sets of required and optional data key(s)
                        within a Secret.
                      properties:
                        optional:
                          description: Keys which may be used if present in the Secret.
                          items:
                            type: string
                          type: array
                        required:
                          description: Keys which are required to exist in the Secret.
                          items:
                            type: string
                          type: array
                      type: object
                    default: {}
                    description: Secrets required by this OAuthProvider. Maps Secret
                      name to required and optional data key(s) within Secret.
                    type: object
                  tlsClientProfiles:
                    default: []
                    description: List of TlsClientProfile resources depended on by
                      this resource's assembly.
                    items:
                      type: string
                    type: array
                type: object
              hash:
                description: Hash representing current state of configuration.
                nullable: true
                type: string
            type: object
        required:
        - spec
        title: JWTProviderValidated
        type: object
        x-kubernetes-validations:
        - message: metadata.name must be 32 characters or less
          rule: self.metadata.name.size() <= 32
    served: true
    storage: true
    subresources:
      status: {}
---
apiVersion: apiextensions.k8s.io/v1
kind: CustomResourceDefinition
metadata:
  name: managements.nano.datapower.ibm.com
spec:
  group: nano.datapower.ibm.com
  names:
    categories:
    - dpn
    kind: Management
    plural: managements
    shortNames:
    - mt
    singular: management
  scope: Namespaced
  versions:
  - additionalPrinterColumns:
    - description: name of associated Deployment
      jsonPath: .status.deployment.name
      name: Deployment
      type: string
    - description: total number of replicas
      jsonPath: .spec.replicas
      name: Replicas
      type: number
    - description: number of ready replicas
      jsonPath: .status.deployment.readyReplicas
      name: Ready
      type: number
    - description: number of updated replicas
      jsonPath: .status.deployment.updatedReplicas
      name: Up-to-date
      priority: 1
      type: number
    - description: number of unavailable replicas
      jsonPath: .status.deployment.unavailableReplicas
      name: Unavailable
      priority: 1
      type: number
    - description: age of resource
      jsonPath: .metadata.creationTimestamp
      name: Age
      type: date
    name: v1alpha1
    schema:
      openAPIV3Schema:
        description: Auto-generated derived type for ManagementSpec via `CustomResource`
        properties:
          spec:
            properties:
              annotations:
                additionalProperties:
                  type: string
                type: object
              database:
                description: Database configuration
                oneOf:
                - required:
                  - singlePrimary
                - required:
                  - cluster
                properties:
                  cluster:
                    properties:
                      credential:
                        description: Optional; name of Secret containing user credential
                          for authentication with database. If a Secret is provided,
                          it must contain `username` field. Optionally, it may also
                          contain `password` field.
                        nullable: true
                        type: string
                      endpoints:
                        description: Database endpoints; each entry must be either
                          `redis://` or `rediss://` scheme.
                        items:
                          type: string
                        minItems: 1
                        type: array
                      keyPrefix:
                        description: Optional; custom prefix for all Redis keys to
                          use. If not set, `dpn` will be used.
                        nullable: true
                        type: string
                      tls:
                        description: Optional; TLS configuration, relevant for `rediss://`
                          scheme endpoints.
                        nullable: true
                        properties:
                          secret:
                            description: Name of Secret containing `tls.key`, `tls.crt`,
                              and optionally `ca.crt`.
                            type: string
                        required:
                        - secret
                        type: object
                    required:
                    - endpoints
                    type: object
                  singlePrimary:
                    properties:
                      credential:
                        description: Optional; name of Secret containing user credential
                          for authentication with database. If a Secret is provided,
                          it must contain `username` field. Optionally, it may also
                          contain `password` field.
                        nullable: true
                        type: string
                      endpoint:
                        description: Database endpoint; must be either `redis://`
                          or `rediss://` scheme.
                        type: string
                      keyPrefix:
                        description: Optional; custom prefix for all Redis keys to
                          use. If not set, `dpn` will be used.
                        nullable: true
                        type: string
                      tls:
                        description: Optional; TLS configuration, relevant for `rediss://`
                          scheme endpoint.
                        nullable: true
                        properties:
                          secret:
                            description: Name of Secret containing `tls.key`, `tls.crt`,
                              and optionally `ca.crt`.
                            type: string
                        required:
                        - secret
                        type: object
                    required:
                    - endpoint
                    type: object
                type: object
              env:
                items:
                  description: EnvVar represents an environment variable present in
                    a Container.
                  properties:
                    name:
                      description: Name of the environment variable. Must be a C_IDENTIFIER.
                      type: string
                    value:
                      description: 'Variable references $(VAR_NAME) are expanded using
                        the previously defined environment variables in the container
                        and any service environment variables. If a variable cannot
                        be resolved, the reference in the input string will be unchanged.
                        Double $$ are reduced to a single $, which allows for escaping
                        the $(VAR_NAME) syntax: i.e. "$$(VAR_NAME)" will produce the
                        string literal "$(VAR_NAME)". Escaped references will never
                        be expanded, regardless of whether the variable exists or
                        not. Defaults to "".'
                      type: string
                    valueFrom:
                      description: Source for the environment variable's value. Cannot
                        be used if value is not empty.
                      properties:
                        configMapKeyRef:
                          description: Selects a key of a ConfigMap.
                          properties:
                            key:
                              description: The key to select.
                              type: string
                            name:
                              description: 'Name of the referent. This field is effectively
                                required, but due to backwards compatibility is allowed
                                to be empty. Instances of this type with an empty
                                value here are almost certainly wrong. More info:
                                https://kubernetes.io/docs/concepts/overview/working-with-objects/names/#names'
                              type: string
                            optional:
                              description: Specify whether the ConfigMap or its key
                                must be defined
                              type: boolean
                          required:
                          - key
                          - name
                          type: object
                        fieldRef:
                          description: 'Selects a field of the pod: supports metadata.name,
                            metadata.namespace, `metadata.labels[''<KEY>'']`, `metadata.annotations[''<KEY>'']`,
                            spec.nodeName, spec.serviceAccountName, status.hostIP,
                            status.podIP, status.podIPs.'
                          properties:
                            apiVersion:
                              description: Version of the schema the FieldPath is
                                written in terms of, defaults to "v1".
                              type: string
                            fieldPath:
                              description: Path of the field to select in the specified
                                API version.
                              type: string
                          required:
                          - fieldPath
                          type: object
                        resourceFieldRef:
                          description: 'Selects a resource of the container: only
                            resources limits and requests (limits.cpu, limits.memory,
                            limits.ephemeral-storage, requests.cpu, requests.memory
                            and requests.ephemeral-storage) are currently supported.'
                          properties:
                            containerName:
                              description: 'Container name: required for volumes,
                                optional for env vars'
                              type: string
                            divisor:
                              description: Specifies the output format of the exposed
                                resources, defaults to "1"
                              type: string
                            resource:
                              description: 'Required: resource to select'
                              type: string
                          required:
                          - resource
                          type: object
                        secretKeyRef:
                          description: Selects a key of a secret in the pod's namespace
                          properties:
                            key:
                              description: The key of the secret to select from.  Must
                                be a valid secret key.
                              type: string
                            name:
                              description: 'Name of the referent. This field is effectively
                                required, but due to backwards compatibility is allowed
                                to be empty. Instances of this type with an empty
                                value here are almost certainly wrong. More info:
                                https://kubernetes.io/docs/concepts/overview/working-with-objects/names/#names'
                              type: string
                            optional:
                              description: Specify whether the Secret or its key must
                                be defined
                              type: boolean
                          required:
                          - key
                          - name
                          type: object
                      type: object
                  required:
                  - name
                  type: object
                nullable: true
                type: array
              healthProbe:
                default:
                  enabled: true
                  port: 3001
                description: Configures Management's health probe service, the default
                  endpoint for liveness and readiness probes
                properties:
                  enabled:
                    default: true
                    description: Enables Runtime's health probe service and endpoint
                    type: boolean
                  port:
                    default: 3001
                    description: Sets the port for the health probe endpoint
                    format: uint16
                    minimum: 0
                    type: integer
                type: object
              hostAliases:
                items:
                  description: HostAlias holds the mapping between IP and hostnames
                    that will be injected as an entry in the pod's hosts file.
                  properties:
                    hostnames:
                      description: Hostnames for the above IP address.
                      items:
                        type: string
                      type: array
                    ip:
                      description: IP address of the host file entry.
                      type: string
                  required:
                  - ip
                  type: object
                nullable: true
                type: array
              identityService:
                description: Configuration for the identity service
                nullable: true
                properties:
                  maxBulkAddSize:
                    description: Maximum number of records allowed for bulk add operations
                    format: uint8
                    maximum: 255
                    minimum: 1
                    type: integer
                required:
                - maxBulkAddSize
                type: object
              image:
                type: string
              imagePullPolicy:
                enum:
                - IfNotPresent
                - Always
                - Never
                nullable: true
                type: string
              imagePullSecrets:
                items:
                  description: LocalObjectReference contains enough information to
                    let you locate the referenced object inside the same namespace.
                  properties:
                    name:
                      description: 'Name of the referent. This field is effectively
                        required, but due to backwards compatibility is allowed to
                        be empty. Instances of this type with an empty value here
                        are almost certainly wrong. More info: https://kubernetes.io/docs/concepts/overview/working-with-objects/names/#names'
                      type: string
                  required:
                  - name
                  type: object
                nullable: true
                type: array
              labels:
                additionalProperties:
                  type: string
                type: object
              livenessProbe:
                default:
                  httpGet:
                    path: /alive
                    port: 3001
                description: Configures the liveness probe for Management container
                nullable: true
                properties:
                  exec:
                    description: Exec specifies a command to execute in the container.
                    properties:
                      command:
                        description: Command is the command line to execute inside
                          the container, the working directory for the command  is
                          root ('/') in the container's filesystem. The command is
                          simply exec'd, it is not run inside a shell, so traditional
                          shell instructions ('|', etc) won't work. To use a shell,
                          you need to explicitly call out to that shell. Exit status
                          of 0 is treated as live/healthy and non-zero is unhealthy.
                        items:
                          type: string
                        type: array
                    type: object
                  failureThreshold:
                    description: Minimum consecutive failures for the probe to be
                      considered failed after having succeeded. Defaults to 3. Minimum
                      value is 1.
                    format: int32
                    type: integer
                  grpc:
                    description: GRPC specifies a GRPC HealthCheckRequest.
                    properties:
                      port:
                        description: Port number of the gRPC service. Number must
                          be in the range 1 to 65535.
                        format: int32
                        type: integer
                      service:
                        description: |-
                          Service is the name of the service to place in the gRPC HealthCheckRequest (see https://github.com/grpc/grpc/blob/master/doc/health-checking.md).

                          If this is not specified, the default behavior is defined by gRPC.
                        type: string
                    required:
                    - port
                    type: object
                  httpGet:
                    description: HTTPGet specifies an HTTP GET request to perform.
                    properties:
                      host:
                        description: Host name to connect to, defaults to the pod
                          IP. You probably want to set "Host" in httpHeaders instead.
                        type: string
                      httpHeaders:
                        description: Custom headers to set in the request. HTTP allows
                          repeated headers.
                        items:
                          description: HTTPHeader describes a custom header to be
                            used in HTTP probes
                          properties:
                            name:
                              description: The header field name. This will be canonicalized
                                upon output, so case-variant names will be understood
                                as the same header.
                              type: string
                            value:
                              description: The header field value
                              type: string
                          required:
                          - name
                          - value
                          type: object
                        type: array
                      path:
                        description: Path to access on the HTTP server.
                        type: string
                      port:
                        description: Name or number of the port to access on the container.
                          Number must be in the range 1 to 65535. Name must be an
                          IANA_SVC_NAME.
                        x-kubernetes-int-or-string: true
                      scheme:
                        description: Scheme to use for connecting to the host. Defaults
                          to HTTP.
                        type: string
                    required:
                    - port
                    type: object
                  initialDelaySeconds:
                    description: 'Number of seconds after the container has started
                      before liveness probes are initiated. More info: https://kubernetes.io/docs/concepts/workloads/pods/pod-lifecycle#container-probes'
                    format: int32
                    type: integer
                  periodSeconds:
                    description: How often (in seconds) to perform the probe. Default
                      to 10 seconds. Minimum value is 1.
                    format: int32
                    type: integer
                  successThreshold:
                    description: Minimum consecutive successes for the probe to be
                      considered successful after having failed. Defaults to 1. Must
                      be 1 for liveness and startup. Minimum value is 1.
                    format: int32
                    type: integer
                  tcpSocket:
                    description: TCPSocket specifies a connection to a TCP port.
                    properties:
                      host:
                        description: 'Optional: Host name to connect to, defaults
                          to the pod IP.'
                        type: string
                      port:
                        description: Number or name of the port to access on the container.
                          Number must be in the range 1 to 65535. Name must be an
                          IANA_SVC_NAME.
                        x-kubernetes-int-or-string: true
                    required:
                    - port
                    type: object
                  terminationGracePeriodSeconds:
                    description: Optional duration in seconds the pod needs to terminate
                      gracefully upon probe failure. The grace period is the duration
                      in seconds after the processes running in the pod are sent a
                      termination signal and the time when the processes are forcibly
                      halted with a kill signal. Set this value longer than the expected
                      cleanup time for your process. If this value is nil, the pod's
                      terminationGracePeriodSeconds will be used. Otherwise, this
                      value overrides the value provided by the pod spec. Value must
                      be non-negative integer. The value zero indicates stop immediately
                      via the kill signal (no opportunity to shut down). This is a
                      beta field and requires enabling ProbeTerminationGracePeriod
                      feature gate. Minimum value is 1. spec.terminationGracePeriodSeconds
                      is used if unset.
                    format: int64
                    type: integer
                  timeoutSeconds:
                    description: 'Number of seconds after which the probe times out.
                      Defaults to 1 second. Minimum value is 1. More info: https://kubernetes.io/docs/concepts/workloads/pods/pod-lifecycle#container-probes'
                    format: int32
                    type: integer
                type: object
              logLevel:
                default:
                  all: error
                properties:
                  all:
                    description: Sets the global logging level
                    enum:
                    - trace
                    - debug
                    - info
                    - warn
                    - error
                    - "off"
                    type: string
                required:
                - all
                type: object
              openTelemetry:
                description: OpenTelemetry configuration
                nullable: true
                properties:
                  attributes:
                    additionalProperties:
                      type: string
                    description: Additional attributes to be set on each span.
                    nullable: true
                    type: object
                  batching:
                    description: Batching configuration to use when exporting.
                    nullable: true
                    properties:
                      batchSize:
                        description: Maximum number of spans to process in a single
                          batch.
                        format: uint
                        minimum: 0
                        type: integer
                      interval:
                        description: Interval between two consecutive exports.
                        type: string
                      queueSize:
                        description: Maximum queue size to buffer spans for delayed
                          processing.
                        format: uint
                        minimum: 0
                        type: integer
                      threads:
                        description: Maximum concurrent exports to perform.
                        format: uint
                        minimum: 0
                        type: integer
                      timeout:
                        description: Maximum time allowed to complete the export.
                        type: string
                    required:
                    - batchSize
                    - interval
                    - queueSize
                    - threads
                    - timeout
                    type: object
                  endpoints:
                    description: List of endpoints to send telemetry data to.
                    items:
                      properties:
                        protocol:
                          description: Protocol used in export.
                          enum:
                          - grpc
                          - http/protobuf
                          - http/json
                          type: string
                        signals:
                          description: Signals to send to this endpoint. Defaults
                            to traces and logs.
                          nullable: true
                          properties:
                            logs:
                              description: Send OpenTelemetry Logs signal
                              type: boolean
                            metrics:
                              description: Send OpenTelemetry Metrics signal
                              type: boolean
                            traces:
                              description: Send OpenTelemetry Traces signal
                              type: boolean
                          required:
                          - logs
                          - metrics
                          - traces
                          type: object
                        tlsClientProfile:
                          description: Optional TlsClientProfile for use when connecting
                            to endpoint.
                          nullable: true
                          type: string
                        url:
                          description: URL to OTLP collector endpoint.
                          type: string
                      required:
                      - protocol
                      - url
                      type: object
                    minItems: 1
                    type: array
                  headers:
                    additionalProperties:
                      type: string
                    description: Additional headers to be sent in export request.
                    nullable: true
                    type: object
                  sampling:
                    description: Sampling of spans to apply when collecting spans
                      for export.
                    nullable: true
                    properties:
                      parentBased:
                        description: Use parent based sampling when available
                        type: boolean
                      ratio:
                        description: Ratio to apply when using RatioBased sampler
                        format: double
                        nullable: true
                        type: number
                      samplerType:
                        description: Built-in sampler type to use when parent sampling
                          is not in effect
                        enum:
                        - AlwaysOn
                        - AlwaysOff
                        - RatioBased
                        type: string
                    required:
                    - parentBased
                    - samplerType
                    type: object
                required:
                - endpoints
                type: object
              port:
                format: uint16
                minimum: 0
                nullable: true
                type: integer
              readinessProbe:
                default:
                  httpGet:
                    path: /ready
                    port: 3001
                description: Configures the readiness probe for Management container
                nullable: true
                properties:
                  exec:
                    description: Exec specifies a command to execute in the container.
                    properties:
                      command:
                        description: Command is the command line to execute inside
                          the container, the working directory for the command  is
                          root ('/') in the container's filesystem. The command is
                          simply exec'd, it is not run inside a shell, so traditional
                          shell instructions ('|', etc) won't work. To use a shell,
                          you need to explicitly call out to that shell. Exit status
                          of 0 is treated as live/healthy and non-zero is unhealthy.
                        items:
                          type: string
                        type: array
                    type: object
                  failureThreshold:
                    description: Minimum consecutive failures for the probe to be
                      considered failed after having succeeded. Defaults to 3. Minimum
                      value is 1.
                    format: int32
                    type: integer
                  grpc:
                    description: GRPC specifies a GRPC HealthCheckRequest.
                    properties:
                      port:
                        description: Port number of the gRPC service. Number must
                          be in the range 1 to 65535.
                        format: int32
                        type: integer
                      service:
                        description: |-
                          Service is the name of the service to place in the gRPC HealthCheckRequest (see https://github.com/grpc/grpc/blob/master/doc/health-checking.md).

                          If this is not specified, the default behavior is defined by gRPC.
                        type: string
                    required:
                    - port
                    type: object
                  httpGet:
                    description: HTTPGet specifies an HTTP GET request to perform.
                    properties:
                      host:
                        description: Host name to connect to, defaults to the pod
                          IP. You probably want to set "Host" in httpHeaders instead.
                        type: string
                      httpHeaders:
                        description: Custom headers to set in the request. HTTP allows
                          repeated headers.
                        items:
                          description: HTTPHeader describes a custom header to be
                            used in HTTP probes
                          properties:
                            name:
                              description: The header field name. This will be canonicalized
                                upon output, so case-variant names will be understood
                                as the same header.
                              type: string
                            value:
                              description: The header field value
                              type: string
                          required:
                          - name
                          - value
                          type: object
                        type: array
                      path:
                        description: Path to access on the HTTP server.
                        type: string
                      port:
                        description: Name or number of the port to access on the container.
                          Number must be in the range 1 to 65535. Name must be an
                          IANA_SVC_NAME.
                        x-kubernetes-int-or-string: true
                      scheme:
                        description: Scheme to use for connecting to the host. Defaults
                          to HTTP.
                        type: string
                    required:
                    - port
                    type: object
                  initialDelaySeconds:
                    description: 'Number of seconds after the container has started
                      before liveness probes are initiated. More info: https://kubernetes.io/docs/concepts/workloads/pods/pod-lifecycle#container-probes'
                    format: int32
                    type: integer
                  periodSeconds:
                    description: How often (in seconds) to perform the probe. Default
                      to 10 seconds. Minimum value is 1.
                    format: int32
                    type: integer
                  successThreshold:
                    description: Minimum consecutive successes for the probe to be
                      considered successful after having failed. Defaults to 1. Must
                      be 1 for liveness and startup. Minimum value is 1.
                    format: int32
                    type: integer
                  tcpSocket:
                    description: TCPSocket specifies a connection to a TCP port.
                    properties:
                      host:
                        description: 'Optional: Host name to connect to, defaults
                          to the pod IP.'
                        type: string
                      port:
                        description: Number or name of the port to access on the container.
                          Number must be in the range 1 to 65535. Name must be an
                          IANA_SVC_NAME.
                        x-kubernetes-int-or-string: true
                    required:
                    - port
                    type: object
                  terminationGracePeriodSeconds:
                    description: Optional duration in seconds the pod needs to terminate
                      gracefully upon probe failure. The grace period is the duration
                      in seconds after the processes running in the pod are sent a
                      termination signal and the time when the processes are forcibly
                      halted with a kill signal. Set this value longer than the expected
                      cleanup time for your process. If this value is nil, the pod's
                      terminationGracePeriodSeconds will be used. Otherwise, this
                      value overrides the value provided by the pod spec. Value must
                      be non-negative integer. The value zero indicates stop immediately
                      via the kill signal (no opportunity to shut down). This is a
                      beta field and requires enabling ProbeTerminationGracePeriod
                      feature gate. Minimum value is 1. spec.terminationGracePeriodSeconds
                      is used if unset.
                    format: int64
                    type: integer
                  timeoutSeconds:
                    description: 'Number of seconds after which the probe times out.
                      Defaults to 1 second. Minimum value is 1. More info: https://kubernetes.io/docs/concepts/workloads/pods/pod-lifecycle#container-probes'
                    format: int32
                    type: integer
                type: object
              replicas:
                format: int32
                minimum: 0
                nullable: true
                type: integer
              resources:
                description: Optionally configure container resources (CPU & memory)
                nullable: true
                properties:
                  limits:
                    description: Resource limits
                    properties:
                      cpu:
                        description: CPU expressed using Kubernetes resource quantity
                          syntax
                        type: string
                      memory:
                        description: Memory expressed using Kubernetes resource quantity
                          syntax
                        type: string
                    required:
                    - cpu
                    - memory
                    type: object
                  requests:
                    description: Resource requests
                    properties:
                      cpu:
                        description: CPU expressed using Kubernetes resource quantity
                          syntax
                        type: string
                      memory:
                        description: Memory expressed using Kubernetes resource quantity
                          syntax
                        type: string
                    required:
                    - cpu
                    - memory
                    type: object
                required:
                - limits
                - requests
                type: object
                x-kubernetes-validations:
                - message: CPU request must be at least 10m
                  rule: quantity(self.requests.cpu).compareTo(quantity("10m")) >=
                    0
                - message: memory request must be at least 20Mi
                  rule: quantity(self.requests.memory).compareTo(quantity("20Mi"))
                    >= 0
                - message: CPU limit must be greater than or equal to CPU request
                  rule: quantity(self.limits.cpu).compareTo(quantity(self.requests.cpu))
                    >= 0
                - message: memory limit must be greater than or equal to memory request
                  rule: quantity(self.limits.memory).compareTo(quantity(self.requests.memory))
                    >= 0
              timeoutSeconds:
                description: Timeout in seconds for processing requests
                format: uint8
                maximum: 255
                minimum: 1
                nullable: true
                type: integer
              tlsServerProfile:
                description: TlsServiceProfile to use when handling requests
                nullable: true
                type: string
            required:
            - database
            - image
            type: object
          status:
            nullable: true
            properties:
              conditions:
                items:
                  description: Condition contains details for one aspect of the current
                    state of this API Resource.
                  properties:
                    lastTransitionTime:
                      description: lastTransitionTime is the last time the condition
                        transitioned from one status to another. This should be when
                        the underlying condition changed.  If that is not known, then
                        using the time when the API field changed is acceptable.
                      format: date-time
                      type: string
                    message:
                      description: message is a human readable message indicating
                        details about the transition. This may be an empty string.
                      type: string
                    observedGeneration:
                      description: observedGeneration represents the .metadata.generation
                        that the condition was set based upon. For instance, if .metadata.generation
                        is currently 12, but the .status.conditions[x].observedGeneration
                        is 9, the condition is out of date with respect to the current
                        state of the instance.
                      format: int64
                      type: integer
                    reason:
                      description: reason contains a programmatic identifier indicating
                        the reason for the condition's last transition. Producers
                        of specific condition types may define expected values and
                        meanings for this field, and whether the values are considered
                        a guaranteed API. The value should be a CamelCase string.
                        This field may not be empty.
                      type: string
                    status:
                      description: status of the condition, one of True, False, Unknown.
                      type: string
                    type:
                      description: type of condition in CamelCase or in foo.example.com/CamelCase.
                      type: string
                  required:
                  - lastTransitionTime
                  - message
                  - reason
                  - status
                  - type
                  type: object
                nullable: true
                type: array
              deployment:
                description: DeploymentStatus is the most recently observed status
                  of the Deployment.
                nullable: true
                properties:
                  availableReplicas:
                    description: Total number of available non-terminating pods (ready
                      for at least minReadySeconds) targeted by this deployment.
                    format: int32
                    type: integer
                  collisionCount:
                    description: Count of hash collisions for the Deployment. The
                      Deployment controller uses this field as a collision avoidance
                      mechanism when it needs to create the name for the newest ReplicaSet.
                    format: int32
                    type: integer
                  conditions:
                    description: Represents the latest available observations of a
                      deployment's current state.
                    items:
                      description: DeploymentCondition describes the state of a deployment
                        at a certain point.
                      properties:
                        lastTransitionTime:
                          description: Last time the condition transitioned from one
                            status to another.
                          format: date-time
                          type: string
                        lastUpdateTime:
                          description: The last time this condition was updated.
                          format: date-time
                          type: string
                        message:
                          description: A human readable message indicating details
                            about the transition.
                          type: string
                        reason:
                          description: The reason for the condition's last transition.
                          type: string
                        status:
                          description: Status of the condition, one of True, False,
                            Unknown.
                          type: string
                        type:
                          description: Type of deployment condition.
                          type: string
                      required:
                      - status
                      - type
                      type: object
                    type: array
                  name:
                    type: string
                  observedGeneration:
                    description: The generation observed by the deployment controller.
                    format: int64
                    type: integer
                  readyReplicas:
                    description: Total number of non-terminating pods targeted by
                      this Deployment with a Ready Condition.
                    format: int32
                    type: integer
                  replicas:
                    description: Total number of non-terminating pods targeted by
                      this deployment (their labels match the selector).
                    format: int32
                    type: integer
                  terminatingReplicas:
                    description: |-
                      Total number of terminating pods targeted by this deployment. Terminating pods have a non-null .metadata.deletionTimestamp and have not yet reached the Failed or Succeeded .status.phase.

                      This is an alpha field. Enable DeploymentReplicaSetTerminatingReplicas to be able to use this field.
                    format: int32
                    type: integer
                  unavailableReplicas:
                    description: Total number of unavailable pods targeted by this
                      deployment. This is the total number of pods that are still
                      required for the deployment to have 100% available capacity.
                      They may either be pods that are running but not yet available
                      or pods that still have not been created.
                    format: int32
                    type: integer
                  updatedReplicas:
                    description: Total number of non-terminating pods targeted by
                      this deployment that have the desired template spec.
                    format: int32
                    type: integer
                required:
                - name
                type: object
              hash:
                nullable: true
                type: string
              labelSelector:
                nullable: true
                type: string
              replicas:
                format: int32
                nullable: true
                type: integer
              service:
                nullable: true
                properties:
                  endpoint:
                    type: string
                  name:
                    type: string
                required:
                - endpoint
                - name
                type: object
            type: object
        required:
        - spec
        title: ManagementValidated
        type: object
        x-kubernetes-validations:
        - message: metadata.name must be 32 characters or less
          rule: self.metadata.name.size() <= 32
    served: true
    storage: true
    subresources:
      scale:
        labelSelectorPath: .status.labelSelector
        specReplicasPath: .spec.replicas
        statusReplicasPath: .status.replicas
      status: {}
---
apiVersion: apiextensions.k8s.io/v1
kind: CustomResourceDefinition
metadata:
  name: oauthproviders.nano.datapower.ibm.com
spec:
  group: nano.datapower.ibm.com
  names:
    categories:
    - dpn
    kind: OAuthProvider
    plural: oauthproviders
    shortNames:
    - oap
    singular: oauthprovider
  scope: Namespaced
  versions:
  - additionalPrinterColumns:
    - description: age of resource
      jsonPath: .metadata.creationTimestamp
      name: Age
      type: date
    name: v1alpha1
    schema:
      openAPIV3Schema:
        description: Auto-generated derived type for OAuthProviderSpec via `CustomResource`
        properties:
          spec:
            properties:
              jwtProvider:
                description: Optionally specify name of JWTProvider resource to use
                  for validating JWTs
                nullable: true
                type: string
              remote:
                description: Optionally specify configuration for remote introspection
                  of OAuth tokens
                nullable: true
                properties:
                  advancedScope:
                    nullable: true
                    properties:
                      requestHeadersRegex:
                        nullable: true
                        type: string
                      responseHeadersRegex:
                        nullable: true
                        type: string
                      validator:
                        properties:
                          endpoint:
                            properties:
                              chunkedUpload:
                                default: false
                                description: 'Specify to use `transfer-encoding: chunked`
                                  or to use input message headers and payload type
                                  unmodified. Default to use incoming (false).'
                                type: boolean
                              compressRequest:
                                default: none
                                description: Specify which compression to use. Default
                                  to None. Set Accept-Encoding header with all supported
                                  types. Handle Content-Encoding with all supported
                                  types.
                                enum:
                                - br
                                - gzip
                                - deflate
                                - none
                                type: string
                              decompressResponse:
                                default: false
                                description: Specify if response should be decompressed.
                                type: boolean
                              followRedirects:
                                default: false
                                description: Specify to follow redirects, default
                                  to false
                                type: boolean
                              persistentConnections:
                                default: true
                                description: Enable use of persistent connections
                                type: boolean
                              timeoutSeconds:
                                description: The time to wait before a reply from
                                  the endpoint (in seconds).
                                format: uint64
                                minimum: 0
                                nullable: true
                                type: integer
                              tlsClientProfile:
                                description: The TLS profile to use for the secure
                                  transmission of data
                                nullable: true
                                type: string
                              url:
                                description: The URL for the target service
                                type: string
                              urlType:
                                default: variables
                                description: Indication of how url string is interpreted
                                enum:
                                - plain
                                - variables
                                - distributedVariable
                                - jsonata
                                type: string
                              version:
                                description: The HTTP version to use. The default
                                  is to keep the version of the incoming request.
                                enum:
                                - HTTP/1.0
                                - HTTP/1.1
                                - HTTP/2
                                nullable: true
                                type: string
                            required:
                            - url
                            type: object
                          security:
                            description: Security credentials used to authenticate
                              with endpoints.
                            nullable: true
                            oneOf:
                            - required:
                              - basicAuth
                            properties:
                              basicAuth:
                                description: Basic authentication using Kubernetes
                                  Secret.
                                properties:
                                  secret:
                                    description: Name of the Kubernetes Secret which
                                      contains basic auth credentials. Secret data
                                      must contain key `username` and may optionally
                                      contain key `password`.
                                    type: string
                                required:
                                - secret
                                type: object
                            type: object
                        required:
                        - endpoint
                        type: object
                    required:
                    - validator
                    type: object
                  allowEmptyIntrospectionResponse:
                    default: false
                    type: boolean
                  cacheTtlSeconds:
                    description: Required when cacheType=ttl, ignored otherwise
                    format: uint16
                    minimum: 1
                    nullable: true
                    type: integer
                  cacheType:
                    enum:
                    - protocol
                    - ttl
                    nullable: true
                    type: string
                  customHeaderPattern:
                    nullable: true
                    type: string
                  introspection:
                    properties:
                      endpoint:
                        properties:
                          chunkedUpload:
                            default: false
                            description: 'Specify to use `transfer-encoding: chunked`
                              or to use input message headers and payload type unmodified.
                              Default to use incoming (false).'
                            type: boolean
                          compressRequest:
                            default: none
                            description: Specify which compression to use. Default
                              to None. Set Accept-Encoding header with all supported
                              types. Handle Content-Encoding with all supported types.
                            enum:
                            - br
                            - gzip
                            - deflate
                            - none
                            type: string
                          decompressResponse:
                            default: false
                            description: Specify if response should be decompressed.
                            type: boolean
                          followRedirects:
                            default: false
                            description: Specify to follow redirects, default to false
                            type: boolean
                          persistentConnections:
                            default: true
                            description: Enable use of persistent connections
                            type: boolean
                          timeoutSeconds:
                            description: The time to wait before a reply from the
                              endpoint (in seconds).
                            format: uint64
                            minimum: 0
                            nullable: true
                            type: integer
                          tlsClientProfile:
                            description: The TLS profile to use for the secure transmission
                              of data
                            nullable: true
                            type: string
                          url:
                            description: The URL for the target service
                            type: string
                          urlType:
                            default: variables
                            description: Indication of how url string is interpreted
                            enum:
                            - plain
                            - variables
                            - distributedVariable
                            - jsonata
                            type: string
                          version:
                            description: The HTTP version to use. The default is to
                              keep the version of the incoming request.
                            enum:
                            - HTTP/1.0
                            - HTTP/1.1
                            - HTTP/2
                            nullable: true
                            type: string
                        required:
                        - url
                        type: object
                      security:
                        description: Security credentials used to authenticate with
                          OAuth provider introspection endpoint.
                        nullable: true
                        oneOf:
                        - required:
                          - basicAuth
                        properties:
                          basicAuth:
                            description: Basic authentication using Kubernetes Secret.
                            properties:
                              bodyCredentials:
                                description: Optional body field names to use when
                                  sending credentials in the request body (for endpoints
                                  that expect credentials in the body rather than
                                  HTTP Basic header).
                                nullable: true
                                properties:
                                  passwordField:
                                    description: Name of the body field to send `password`
                                      from Secret
                                    nullable: true
                                    type: string
                                  usernameField:
                                    description: Name of the body field to send `username`
                                      from Secret.
                                    type: string
                                required:
                                - usernameField
                                type: object
                              secret:
                                description: Name of the Kubernetes Secret which contains
                                  basic auth credentials. Secret data must contain
                                  keys `username` and `password`.
                                type: string
                            required:
                            - secret
                            type: object
                        type: object
                    required:
                    - endpoint
                    type: object
                  scopes:
                    items:
                      type: string
                    type: array
                required:
                - introspection
                type: object
                x-kubernetes-validations:
                - message: cacheTtlSeconds is required when cacheType=ttl
                  rule: (!has(self.cacheType) || (self.cacheType != 'ttl')) || has(self.cacheTtlSeconds)
            type: object
            x-kubernetes-validations:
            - message: spec requires either remote or jwtProvider, both cannot be
                null
              rule: has(self.remote) || has(self.jwtProvider)
          status:
            nullable: true
            properties:
              conditions:
                items:
                  description: Condition contains details for one aspect of the current
                    state of this API Resource.
                  properties:
                    lastTransitionTime:
                      description: lastTransitionTime is the last time the condition
                        transitioned from one status to another. This should be when
                        the underlying condition changed.  If that is not known, then
                        using the time when the API field changed is acceptable.
                      format: date-time
                      type: string
                    message:
                      description: message is a human readable message indicating
                        details about the transition. This may be an empty string.
                      type: string
                    observedGeneration:
                      description: observedGeneration represents the .metadata.generation
                        that the condition was set based upon. For instance, if .metadata.generation
                        is currently 12, but the .status.conditions[x].observedGeneration
                        is 9, the condition is out of date with respect to the current
                        state of the instance.
                      format: int64
                      type: integer
                    reason:
                      description: reason contains a programmatic identifier indicating
                        the reason for the condition's last transition. Producers
                        of specific condition types may define expected values and
                        meanings for this field, and whether the values are considered
                        a guaranteed API. The value should be a CamelCase string.
                        This field may not be empty.
                      type: string
                    status:
                      description: status of the condition, one of True, False, Unknown.
                      type: string
                    type:
                      description: type of condition in CamelCase or in foo.example.com/CamelCase.
                      type: string
                  required:
                  - lastTransitionTime
                  - message
                  - reason
                  - status
                  - type
                  type: object
                nullable: true
                type: array
              configMap:
                description: ConfigMap holding the OAuthProvider configuration for
                  deployment.
                nullable: true
                type: string
              dependencies:
                description: Dependencies of this OAuthProvider.
                nullable: true
                properties:
                  cache:
                    default: false
                    description: True if the OAuthProvider depends on a Runtime OAuth
                      cache database.
                    type: boolean
                  jwtProvider:
                    description: JWTProvider required by this OAuthProvider, if any.
                    nullable: true
                    type: string
                  secrets:
                    additionalProperties:
                      description: Defines sets of required and optional data key(s)
                        within a Secret.
                      properties:
                        optional:
                          description: Keys which may be used if present in the Secret.
                          items:
                            type: string
                          type: array
                        required:
                          description: Keys which are required to exist in the Secret.
                          items:
                            type: string
                          type: array
                      type: object
                    default: {}
                    description: Secrets required by this OAuthProvider. Maps Secret
                      name to required and optional data key(s) within Secret.
                    type: object
                  tlsClientProfiles:
                    default: []
                    description: List of TlsClientProfile resources required by this
                      OAuthProvider.
                    items:
                      type: string
                    type: array
                type: object
              hash:
                description: Hash representing current state of configuration.
                nullable: true
                type: string
            type: object
        required:
        - spec
        title: OAuthProviderValidated
        type: object
        x-kubernetes-validations:
        - message: metadata.name must be 32 characters or less
          rule: self.metadata.name.size() <= 32
    served: true
    storage: true
    subresources:
      status: {}
---
apiVersion: apiextensions.k8s.io/v1
kind: CustomResourceDefinition
metadata:
  name: runtimeconfigs.nano.datapower.ibm.com
spec:
  group: nano.datapower.ibm.com
  names:
    categories:
    - dpn
    kind: RuntimeConfig
    plural: runtimeconfigs
    shortNames:
    - rtc
    singular: runtimeconfig
  scope: Namespaced
  versions:
  - additionalPrinterColumns:
    - description: age of resource
      jsonPath: .metadata.creationTimestamp
      name: Age
      type: date
    name: v1alpha1
    schema:
      openAPIV3Schema:
        description: Auto-generated derived type for RuntimeConfigSpec via `CustomResource`
        properties:
          spec:
            properties:
              annotations:
                additionalProperties:
                  type: string
                type: object
              env:
                items:
                  description: EnvVar represents an environment variable present in
                    a Container.
                  properties:
                    name:
                      description: Name of the environment variable. Must be a C_IDENTIFIER.
                      type: string
                    value:
                      description: 'Variable references $(VAR_NAME) are expanded using
                        the previously defined environment variables in the container
                        and any service environment variables. If a variable cannot
                        be resolved, the reference in the input string will be unchanged.
                        Double $$ are reduced to a single $, which allows for escaping
                        the $(VAR_NAME) syntax: i.e. "$$(VAR_NAME)" will produce the
                        string literal "$(VAR_NAME)". Escaped references will never
                        be expanded, regardless of whether the variable exists or
                        not. Defaults to "".'
                      type: string
                    valueFrom:
                      description: Source for the environment variable's value. Cannot
                        be used if value is not empty.
                      properties:
                        configMapKeyRef:
                          description: Selects a key of a ConfigMap.
                          properties:
                            key:
                              description: The key to select.
                              type: string
                            name:
                              description: 'Name of the referent. This field is effectively
                                required, but due to backwards compatibility is allowed
                                to be empty. Instances of this type with an empty
                                value here are almost certainly wrong. More info:
                                https://kubernetes.io/docs/concepts/overview/working-with-objects/names/#names'
                              type: string
                            optional:
                              description: Specify whether the ConfigMap or its key
                                must be defined
                              type: boolean
                          required:
                          - key
                          - name
                          type: object
                        fieldRef:
                          description: 'Selects a field of the pod: supports metadata.name,
                            metadata.namespace, `metadata.labels[''<KEY>'']`, `metadata.annotations[''<KEY>'']`,
                            spec.nodeName, spec.serviceAccountName, status.hostIP,
                            status.podIP, status.podIPs.'
                          properties:
                            apiVersion:
                              description: Version of the schema the FieldPath is
                                written in terms of, defaults to "v1".
                              type: string
                            fieldPath:
                              description: Path of the field to select in the specified
                                API version.
                              type: string
                          required:
                          - fieldPath
                          type: object
                        resourceFieldRef:
                          description: 'Selects a resource of the container: only
                            resources limits and requests (limits.cpu, limits.memory,
                            limits.ephemeral-storage, requests.cpu, requests.memory
                            and requests.ephemeral-storage) are currently supported.'
                          properties:
                            containerName:
                              description: 'Container name: required for volumes,
                                optional for env vars'
                              type: string
                            divisor:
                              description: Specifies the output format of the exposed
                                resources, defaults to "1"
                              type: string
                            resource:
                              description: 'Required: resource to select'
                              type: string
                          required:
                          - resource
                          type: object
                        secretKeyRef:
                          description: Selects a key of a secret in the pod's namespace
                          properties:
                            key:
                              description: The key of the secret to select from.  Must
                                be a valid secret key.
                              type: string
                            name:
                              description: 'Name of the referent. This field is effectively
                                required, but due to backwards compatibility is allowed
                                to be empty. Instances of this type with an empty
                                value here are almost certainly wrong. More info:
                                https://kubernetes.io/docs/concepts/overview/working-with-objects/names/#names'
                              type: string
                            optional:
                              description: Specify whether the Secret or its key must
                                be defined
                              type: boolean
                          required:
                          - key
                          - name
                          type: object
                      type: object
                  required:
                  - name
                  type: object
                nullable: true
                type: array
              hostAliases:
                items:
                  description: HostAlias holds the mapping between IP and hostnames
                    that will be injected as an entry in the pod's hosts file.
                  properties:
                    hostnames:
                      description: Hostnames for the above IP address.
                      items:
                        type: string
                      type: array
                    ip:
                      description: IP address of the host file entry.
                      type: string
                  required:
                  - ip
                  type: object
                nullable: true
                type: array
              image:
                type: string
              imagePullPolicy:
                enum:
                - IfNotPresent
                - Always
                - Never
                nullable: true
                type: string
              imagePullSecrets:
                items:
                  description: LocalObjectReference contains enough information to
                    let you locate the referenced object inside the same namespace.
                  properties:
                    name:
                      description: 'Name of the referent. This field is effectively
                        required, but due to backwards compatibility is allowed to
                        be empty. Instances of this type with an empty value here
                        are almost certainly wrong. More info: https://kubernetes.io/docs/concepts/overview/working-with-objects/names/#names'
                      type: string
                  required:
                  - name
                  type: object
                nullable: true
                type: array
              labels:
                additionalProperties:
                  type: string
                type: object
              logLevel:
                default:
                  all: error
                properties:
                  all:
                    description: Sets the global logging level
                    enum:
                    - trace
                    - debug
                    - info
                    - warn
                    - error
                    - "off"
                    type: string
                required:
                - all
                type: object
              openTelemetry:
                description: Configuration for OpenTelemetry in microservices.
                nullable: true
                properties:
                  additionalSpans:
                    description: Add more granular spans for transactions. By default,
                      only required spans per OpenTelemetry specification are produced
                      (e.g., http).
                    enum:
                    - globalFlow
                    - assemblyPolicy
                    - globalPolicy
                    - userDefinedPolicy
                    nullable: true
                    type: string
                  attributes:
                    additionalProperties:
                      type: string
                    description: Additional attributes to be set on each span.
                    nullable: true
                    type: object
                  batching:
                    description: Batching configuration to use when exporting.
                    nullable: true
                    properties:
                      batchSize:
                        description: Maximum number of spans to process in a single
                          batch.
                        format: uint
                        minimum: 0
                        type: integer
                      interval:
                        description: Interval between two consecutive exports.
                        type: string
                      queueSize:
                        description: Maximum queue size to buffer spans for delayed
                          processing.
                        format: uint
                        minimum: 0
                        type: integer
                      threads:
                        description: Maximum concurrent exports to perform.
                        format: uint
                        minimum: 0
                        type: integer
                      timeout:
                        description: Maximum time allowed to complete the export.
                        type: string
                    required:
                    - batchSize
                    - interval
                    - queueSize
                    - threads
                    - timeout
                    type: object
                  endpoints:
                    description: List of endpoints to send telemetry data to.
                    items:
                      properties:
                        protocol:
                          description: Protocol used in export.
                          enum:
                          - grpc
                          - http/protobuf
                          - http/json
                          type: string
                        signals:
                          description: Signals to send to this endpoint. Defaults
                            to traces and logs.
                          nullable: true
                          properties:
                            logs:
                              description: Send OpenTelemetry Logs signal
                              type: boolean
                            metrics:
                              description: Send OpenTelemetry Metrics signal
                              type: boolean
                            traces:
                              description: Send OpenTelemetry Traces signal
                              type: boolean
                          required:
                          - logs
                          - metrics
                          - traces
                          type: object
                        tlsClientProfile:
                          description: Optional TlsClientProfile for use when connecting
                            to endpoint.
                          nullable: true
                          type: string
                        url:
                          description: URL to OTLP collector endpoint.
                          type: string
                      required:
                      - protocol
                      - url
                      type: object
                    minItems: 1
                    type: array
                  headers:
                    additionalProperties:
                      type: string
                    description: Additional headers to be sent in export request.
                    nullable: true
                    type: object
                  sampling:
                    description: Sampling of spans to apply when collecting spans
                      for export.
                    nullable: true
                    properties:
                      parentBased:
                        description: Use parent based sampling when available
                        type: boolean
                      ratio:
                        description: Ratio to apply when using RatioBased sampler
                        format: double
                        nullable: true
                        type: number
                      samplerType:
                        description: Built-in sampler type to use when parent sampling
                          is not in effect
                        enum:
                        - AlwaysOn
                        - AlwaysOff
                        - RatioBased
                        type: string
                    required:
                    - parentBased
                    - samplerType
                    type: object
                required:
                - endpoints
                type: object
              replicas:
                format: int32
                nullable: true
                type: integer
              resources:
                description: Optionally configure container resources (CPU & memory)
                nullable: true
                properties:
                  limits:
                    description: Resource limits
                    properties:
                      cpu:
                        description: CPU expressed using Kubernetes resource quantity
                          syntax
                        type: string
                      memory:
                        description: Memory expressed using Kubernetes resource quantity
                          syntax
                        type: string
                    required:
                    - cpu
                    - memory
                    type: object
                  requests:
                    description: Resource requests
                    properties:
                      cpu:
                        description: CPU expressed using Kubernetes resource quantity
                          syntax
                        type: string
                      memory:
                        description: Memory expressed using Kubernetes resource quantity
                          syntax
                        type: string
                    required:
                    - cpu
                    - memory
                    type: object
                required:
                - limits
                - requests
                type: object
                x-kubernetes-validations:
                - message: CPU request must be at least 10m
                  rule: quantity(self.requests.cpu).compareTo(quantity("10m")) >=
                    0
                - message: memory request must be at least 20Mi
                  rule: quantity(self.requests.memory).compareTo(quantity("20Mi"))
                    >= 0
                - message: CPU limit must be greater than or equal to CPU request
                  rule: quantity(self.limits.cpu).compareTo(quantity(self.requests.cpu))
                    >= 0
                - message: memory limit must be greater than or equal to memory request
                  rule: quantity(self.limits.memory).compareTo(quantity(self.requests.memory))
                    >= 0
              serviceName:
                nullable: true
                type: string
              tlsServerProfile:
                nullable: true
                type: string
            required:
            - image
            type: object
          status:
            nullable: true
            properties:
              conditions:
                items:
                  description: Condition contains details for one aspect of the current
                    state of this API Resource.
                  properties:
                    lastTransitionTime:
                      description: lastTransitionTime is the last time the condition
                        transitioned from one status to another. This should be when
                        the underlying condition changed.  If that is not known, then
                        using the time when the API field changed is acceptable.
                      format: date-time
                      type: string
                    message:
                      description: message is a human readable message indicating
                        details about the transition. This may be an empty string.
                      type: string
                    observedGeneration:
                      description: observedGeneration represents the .metadata.generation
                        that the condition was set based upon. For instance, if .metadata.generation
                        is currently 12, but the .status.conditions[x].observedGeneration
                        is 9, the condition is out of date with respect to the current
                        state of the instance.
                      format: int64
                      type: integer
                    reason:
                      description: reason contains a programmatic identifier indicating
                        the reason for the condition's last transition. Producers
                        of specific condition types may define expected values and
                        meanings for this field, and whether the values are considered
                        a guaranteed API. The value should be a CamelCase string.
                        This field may not be empty.
                      type: string
                    status:
                      description: status of the condition, one of True, False, Unknown.
                      type: string
                    type:
                      description: type of condition in CamelCase or in foo.example.com/CamelCase.
                      type: string
                  required:
                  - lastTransitionTime
                  - message
                  - reason
                  - status
                  - type
                  type: object
                nullable: true
                type: array
              parents:
                items:
                  description: TypedLocalObjectReference contains enough information
                    to let you locate the typed referenced object inside the same
                    namespace.
                  properties:
                    apiGroup:
                      description: APIGroup is the group for the resource being referenced.
                        If APIGroup is not specified, the specified Kind must be in
                        the core API group. For any other third-party types, APIGroup
                        is required.
                      type: string
                    kind:
                      description: Kind is the type of resource being referenced
                      type: string
                    name:
                      description: Name is the name of resource being referenced
                      type: string
                  required:
                  - kind
                  - name
                  type: object
                nullable: true
                type: array
            type: object
        required:
        - spec
        title: RuntimeConfigValidated
        type: object
        x-kubernetes-validations:
        - message: metadata.name must be 32 characters or less
          rule: self.metadata.name.size() <= 32
    served: true
    storage: true
    subresources:
      status: {}
---
apiVersion: apiextensions.k8s.io/v1
kind: CustomResourceDefinition
metadata:
  name: runtimes.nano.datapower.ibm.com
spec:
  group: nano.datapower.ibm.com
  names:
    categories:
    - dpn
    kind: Runtime
    plural: runtimes
    shortNames:
    - rt
    singular: runtime
  scope: Namespaced
  versions:
  - additionalPrinterColumns:
    - description: name of associated Deployment
      jsonPath: .status.deployment.name
      name: Deployment
      type: string
    - description: total number of replicas
      jsonPath: .spec.replicas
      name: Replicas
      type: number
    - description: number of ready replicas
      jsonPath: .status.deployment.readyReplicas
      name: Ready
      type: number
    - description: number of updated replicas
      jsonPath: .status.deployment.updatedReplicas
      name: Up-to-date
      priority: 1
      type: number
    - description: number of unavailable replicas
      jsonPath: .status.deployment.unavailableReplicas
      name: Unavailable
      priority: 1
      type: number
    - description: age of resource
      jsonPath: .metadata.creationTimestamp
      name: Age
      type: date
    name: v1alpha1
    schema:
      openAPIV3Schema:
        description: Auto-generated derived type for RuntimeSpec via `CustomResource`
        properties:
          spec:
            properties:
              annotations:
                additionalProperties:
                  type: string
                type: object
              cacheService:
                nullable: true
                properties:
                  database:
                    description: Name of database configuration to use; must be defined
                      in components.
                    maxLength: 32
                    minLength: 1
                    type: string
                required:
                - database
                type: object
              components:
                nullable: true
                properties:
                  countLimits:
                    additionalProperties:
                      items:
                        properties:
                          autoDecrement:
                            default: true
                            description: If true (default), the count limit is automatically
                              decremented at the end of the transaction by the amount
                              it was incremented during the transaction. If false,
                              the count is only decremented by a Decrement operation.
                            type: boolean
                          dynamicValue:
                            description: JSONata expression to be added to the limit
                              key; evaluates to a string
                            nullable: true
                            type: string
                          max:
                            description: Max allowed for this count limit. A value
                              of 0 means "unlimited" (any number of calls are allowed).
                            format: int64
                            minimum: 0
                            type: integer
                          weightExpr:
                            description: JSONata expression for the weight of a call
                              (i.e., the amount by which the count is incremented
                              or decremented). Must evaluate to a positive integer.
                              If not set, the weight defaults to 1.
                            nullable: true
                            type: string
                        required:
                        - max
                        type: object
                      type: array
                    type: object
                  databases:
                    additionalProperties:
                      oneOf:
                      - required:
                        - singlePrimary
                      - required:
                        - cluster
                      - required:
                        - localOnly
                      properties:
                        cluster:
                          properties:
                            credential:
                              description: Optional; name of Secret containing user
                                credential for authentication with database. If a
                                Secret is provided, it must contain `username` field.
                                Optionally, it may also contain `password` field.
                              nullable: true
                              type: string
                            endpoints:
                              description: Database endpoints; each entry must be
                                either `redis://` or `rediss://` scheme.
                              items:
                                type: string
                              minItems: 1
                              type: array
                            keyPrefix:
                              description: Optional; custom prefix for all Redis keys
                                to use. If not set, `dpn` will be used.
                              nullable: true
                              type: string
                            tls:
                              description: Optional; TLS configuration, relevant for
                                `rediss://` scheme endpoints.
                              nullable: true
                              properties:
                                secret:
                                  description: Name of Secret containing `tls.key`,
                                    `tls.crt`, and optionally `ca.crt`.
                                  type: string
                              required:
                              - secret
                              type: object
                          required:
                          - endpoints
                          type: object
                        localOnly:
                          properties:
                            maxCapacity:
                              default: 1024
                              format: uint64
                              maximum: 65536
                              minimum: 256
                              type: integer
                          type: object
                        singlePrimary:
                          properties:
                            credential:
                              description: Optional; name of Secret containing user
                                credential for authentication with database. If a
                                Secret is provided, it must contain `username` field.
                                Optionally, it may also contain `password` field.
                              nullable: true
                              type: string
                            endpoint:
                              description: Database endpoint; must be either `redis://`
                                or `rediss://` scheme.
                              type: string
                            keyPrefix:
                              description: Optional; custom prefix for all Redis keys
                                to use. If not set, `dpn` will be used.
                              nullable: true
                              type: string
                            tls:
                              description: Optional; TLS configuration, relevant for
                                `rediss://` scheme endpoint.
                              nullable: true
                              properties:
                                secret:
                                  description: Name of Secret containing `tls.key`,
                                    `tls.crt`, and optionally `ca.crt`.
                                  type: string
                              required:
                              - secret
                              type: object
                          required:
                          - endpoint
                          type: object
                      type: object
                    type: object
                    x-kubernetes-validations:
                    - message: database names cannot be empty and must not exceed
                        32 characters in length
                      rule: self.all(name, name.size() > 1 && name.size() <= 32)
                    - message: database names must consist of alphanumeric characters
                        or '-', must start and end with an alphanumeric character,
                        and must not exceed 32 characters in length
                      rule: self.all(name, name.matches('^[0-9a-zA-Z]$|^[0-9a-zA-Z][0-9a-zA-Z-]{0,30}[0-9a-zA-Z]$'))
                  rateLimits:
                    additionalProperties:
                      items:
                        properties:
                          dynamicValue:
                            description: JSONata expression for string to be added
                              to the limit key.
                            nullable: true
                            type: string
                          exceedAction:
                            description: 'Action to take when rate limit is exceeded.
                              Applies only to rate limit operations that return a
                              `LimitExceeded` error: Consume, Check.'
                            enum:
                            - return429
                            - return500
                            - continue
                            type: string
                          intervalLen:
                            description: Interval length
                            format: int32
                            minimum: 1
                            type: integer
                          intervalOffset:
                            description: 'Cause interval to start at an offset other
                              than the default. Valid values: 0 (default) = no change,
                              -1 = interval will start at an arbitrary offset.'
                            format: int32
                            maximum: 0
                            minimum: -1
                            type: integer
                          intervalUnit:
                            description: Interval units
                            enum:
                            - second
                            - minute
                            - hour
                            - day
                            type: string
                          max:
                            description: Max allowed for this rate limit during each
                              interval. A value of 0 means "unlimited" (any number
                              of calls are allowed).
                            format: int64
                            minimum: 0
                            type: integer
                          weightExpr:
                            description: JSONata expression for the weight of a call
                              (i.e., the amount by which the remaining count is consumed
                              or replenished). Must evaluate to a positive integer.
                              If not set, the weight defaults to 1.
                            nullable: true
                            type: string
                        required:
                        - intervalLen
                        - intervalUnit
                        - max
                        type: object
                      type: array
                    type: object
                type: object
              distributedVariableService:
                nullable: true
                properties:
                  database:
                    description: Name of database configuration to use; must be defined
                      in components.
                    maxLength: 32
                    minLength: 1
                    type: string
                required:
                - database
                type: object
              env:
                items:
                  description: EnvVar represents an environment variable present in
                    a Container.
                  properties:
                    name:
                      description: Name of the environment variable. Must be a C_IDENTIFIER.
                      type: string
                    value:
                      description: 'Variable references $(VAR_NAME) are expanded using
                        the previously defined environment variables in the container
                        and any service environment variables. If a variable cannot
                        be resolved, the reference in the input string will be unchanged.
                        Double $$ are reduced to a single $, which allows for escaping
                        the $(VAR_NAME) syntax: i.e. "$$(VAR_NAME)" will produce the
                        string literal "$(VAR_NAME)". Escaped references will never
                        be expanded, regardless of whether the variable exists or
                        not. Defaults to "".'
                      type: string
                    valueFrom:
                      description: Source for the environment variable's value. Cannot
                        be used if value is not empty.
                      properties:
                        configMapKeyRef:
                          description: Selects a key of a ConfigMap.
                          properties:
                            key:
                              description: The key to select.
                              type: string
                            name:
                              description: 'Name of the referent. This field is effectively
                                required, but due to backwards compatibility is allowed
                                to be empty. Instances of this type with an empty
                                value here are almost certainly wrong. More info:
                                https://kubernetes.io/docs/concepts/overview/working-with-objects/names/#names'
                              type: string
                            optional:
                              description: Specify whether the ConfigMap or its key
                                must be defined
                              type: boolean
                          required:
                          - key
                          - name
                          type: object
                        fieldRef:
                          description: 'Selects a field of the pod: supports metadata.name,
                            metadata.namespace, `metadata.labels[''<KEY>'']`, `metadata.annotations[''<KEY>'']`,
                            spec.nodeName, spec.serviceAccountName, status.hostIP,
                            status.podIP, status.podIPs.'
                          properties:
                            apiVersion:
                              description: Version of the schema the FieldPath is
                                written in terms of, defaults to "v1".
                              type: string
                            fieldPath:
                              description: Path of the field to select in the specified
                                API version.
                              type: string
                          required:
                          - fieldPath
                          type: object
                        resourceFieldRef:
                          description: 'Selects a resource of the container: only
                            resources limits and requests (limits.cpu, limits.memory,
                            limits.ephemeral-storage, requests.cpu, requests.memory
                            and requests.ephemeral-storage) are currently supported.'
                          properties:
                            containerName:
                              description: 'Container name: required for volumes,
                                optional for env vars'
                              type: string
                            divisor:
                              description: Specifies the output format of the exposed
                                resources, defaults to "1"
                              type: string
                            resource:
                              description: 'Required: resource to select'
                              type: string
                          required:
                          - resource
                          type: object
                        secretKeyRef:
                          description: Selects a key of a secret in the pod's namespace
                          properties:
                            key:
                              description: The key of the secret to select from.  Must
                                be a valid secret key.
                              type: string
                            name:
                              description: 'Name of the referent. This field is effectively
                                required, but due to backwards compatibility is allowed
                                to be empty. Instances of this type with an empty
                                value here are almost certainly wrong. More info:
                                https://kubernetes.io/docs/concepts/overview/working-with-objects/names/#names'
                              type: string
                            optional:
                              description: Specify whether the Secret or its key must
                                be defined
                              type: boolean
                          required:
                          - key
                          - name
                          type: object
                      type: object
                  required:
                  - name
                  type: object
                nullable: true
                type: array
              healthProbe:
                default:
                  enabled: true
                  port: 3001
                description: Configures Runtime's health probe service, the default
                  endpoint for liveness and readiness probes
                properties:
                  enabled:
                    default: true
                    description: Enables Runtime's health probe service and endpoint
                    type: boolean
                  port:
                    default: 3001
                    description: Sets the port for the health probe endpoint
                    format: uint16
                    minimum: 0
                    type: integer
                type: object
              hostAliases:
                items:
                  description: HostAlias holds the mapping between IP and hostnames
                    that will be injected as an entry in the pod's hosts file.
                  properties:
                    hostnames:
                      description: Hostnames for the above IP address.
                      items:
                        type: string
                      type: array
                    ip:
                      description: IP address of the host file entry.
                      type: string
                  required:
                  - ip
                  type: object
                nullable: true
                type: array
              image:
                type: string
              imagePullPolicy:
                enum:
                - IfNotPresent
                - Always
                - Never
                nullable: true
                type: string
              imagePullSecrets:
                items:
                  description: LocalObjectReference contains enough information to
                    let you locate the referenced object inside the same namespace.
                  properties:
                    name:
                      description: 'Name of the referent. This field is effectively
                        required, but due to backwards compatibility is allowed to
                        be empty. Instances of this type with an empty value here
                        are almost certainly wrong. More info: https://kubernetes.io/docs/concepts/overview/working-with-objects/names/#names'
                      type: string
                  required:
                  - name
                  type: object
                nullable: true
                type: array
              jwt:
                nullable: true
                properties:
                  cache:
                    nullable: true
                    properties:
                      maxRecords:
                        default: 1000
                        format: uint64
                        maximum: 1000
                        minimum: 10
                        type: integer
                    type: object
                type: object
              labels:
                additionalProperties:
                  type: string
                type: object
              listeners:
                description: Optionally define one or more listeners
                items:
                  description: Defines a single listener for the Runtime
                  properties:
                    defaultTlsServerProfile:
                      description: Optionally configure a default TlsServerProfile
                        to use to secure this listener. If an SNI mapping is specified,
                        the default TlsServerProfile will be used for connections
                        that do not match an SNI entry. If no SNI mapping is specified,
                        the default TlsServerProfile will be used for all TLS connections.
                        If no SNI mapping is specified and no default TlsServerProfile
                        is specified, the listener will not use TLS
                      nullable: true
                      type: string
                    name:
                      description: Name of the listener. This name will also be used
                        for the port name in the managed Service, and thus must be
                        a valid Service port name.
                      maxLength: 32
                      minLength: 1
                      type: string
                    port:
                      description: Port to listen on
                      format: uint16
                      maximum: 32767
                      minimum: 1024
                      type: integer
                    sni:
                      description: Optionally configure an SNI mapping to use to secure
                        this listener
                      items:
                        description: Defines a single Runtime Listener SNI entry
                        properties:
                          hostname:
                            description: The precise hostname or wildcard-prefixed
                              hostname (e.g., "*.example.com") against which the SNI
                              server name is compared
                            maxLength: 253
                            minLength: 1
                            pattern: ^(\*\.)?[a-z0-9]([-a-z0-9]*[a-z0-9])?(\.[a-z0-9]([-a-z0-9]*[a-z0-9])?)*$
                            type: string
                          tlsServerProfile:
                            description: The TLS Server Profile to use for TLS connections
                              matching `hostname`
                            type: string
                        required:
                        - hostname
                        - tlsServerProfile
                        type: object
                      type: array
                  required:
                  - name
                  - port
                  type: object
                type: array
              livenessProbe:
                default:
                  httpGet:
                    path: /alive
                    port: 3001
                description: Configures the liveness probe for Runtime container
                nullable: true
                properties:
                  exec:
                    description: Exec specifies a command to execute in the container.
                    properties:
                      command:
                        description: Command is the command line to execute inside
                          the container, the working directory for the command  is
                          root ('/') in the container's filesystem. The command is
                          simply exec'd, it is not run inside a shell, so traditional
                          shell instructions ('|', etc) won't work. To use a shell,
                          you need to explicitly call out to that shell. Exit status
                          of 0 is treated as live/healthy and non-zero is unhealthy.
                        items:
                          type: string
                        type: array
                    type: object
                  failureThreshold:
                    description: Minimum consecutive failures for the probe to be
                      considered failed after having succeeded. Defaults to 3. Minimum
                      value is 1.
                    format: int32
                    type: integer
                  grpc:
                    description: GRPC specifies a GRPC HealthCheckRequest.
                    properties:
                      port:
                        description: Port number of the gRPC service. Number must
                          be in the range 1 to 65535.
                        format: int32
                        type: integer
                      service:
                        description: |-
                          Service is the name of the service to place in the gRPC HealthCheckRequest (see https://github.com/grpc/grpc/blob/master/doc/health-checking.md).

                          If this is not specified, the default behavior is defined by gRPC.
                        type: string
                    required:
                    - port
                    type: object
                  httpGet:
                    description: HTTPGet specifies an HTTP GET request to perform.
                    properties:
                      host:
                        description: Host name to connect to, defaults to the pod
                          IP. You probably want to set "Host" in httpHeaders instead.
                        type: string
                      httpHeaders:
                        description: Custom headers to set in the request. HTTP allows
                          repeated headers.
                        items:
                          description: HTTPHeader describes a custom header to be
                            used in HTTP probes
                          properties:
                            name:
                              description: The header field name. This will be canonicalized
                                upon output, so case-variant names will be understood
                                as the same header.
                              type: string
                            value:
                              description: The header field value
                              type: string
                          required:
                          - name
                          - value
                          type: object
                        type: array
                      path:
                        description: Path to access on the HTTP server.
                        type: string
                      port:
                        description: Name or number of the port to access on the container.
                          Number must be in the range 1 to 65535. Name must be an
                          IANA_SVC_NAME.
                        x-kubernetes-int-or-string: true
                      scheme:
                        description: Scheme to use for connecting to the host. Defaults
                          to HTTP.
                        type: string
                    required:
                    - port
                    type: object
                  initialDelaySeconds:
                    description: 'Number of seconds after the container has started
                      before liveness probes are initiated. More info: https://kubernetes.io/docs/concepts/workloads/pods/pod-lifecycle#container-probes'
                    format: int32
                    type: integer
                  periodSeconds:
                    description: How often (in seconds) to perform the probe. Default
                      to 10 seconds. Minimum value is 1.
                    format: int32
                    type: integer
                  successThreshold:
                    description: Minimum consecutive successes for the probe to be
                      considered successful after having failed. Defaults to 1. Must
                      be 1 for liveness and startup. Minimum value is 1.
                    format: int32
                    type: integer
                  tcpSocket:
                    description: TCPSocket specifies a connection to a TCP port.
                    properties:
                      host:
                        description: 'Optional: Host name to connect to, defaults
                          to the pod IP.'
                        type: string
                      port:
                        description: Number or name of the port to access on the container.
                          Number must be in the range 1 to 65535. Name must be an
                          IANA_SVC_NAME.
                        x-kubernetes-int-or-string: true
                    required:
                    - port
                    type: object
                  terminationGracePeriodSeconds:
                    description: Optional duration in seconds the pod needs to terminate
                      gracefully upon probe failure. The grace period is the duration
                      in seconds after the processes running in the pod are sent a
                      termination signal and the time when the processes are forcibly
                      halted with a kill signal. Set this value longer than the expected
                      cleanup time for your process. If this value is nil, the pod's
                      terminationGracePeriodSeconds will be used. Otherwise, this
                      value overrides the value provided by the pod spec. Value must
                      be non-negative integer. The value zero indicates stop immediately
                      via the kill signal (no opportunity to shut down). This is a
                      beta field and requires enabling ProbeTerminationGracePeriod
                      feature gate. Minimum value is 1. spec.terminationGracePeriodSeconds
                      is used if unset.
                    format: int64
                    type: integer
                  timeoutSeconds:
                    description: 'Number of seconds after which the probe times out.
                      Defaults to 1 second. Minimum value is 1. More info: https://kubernetes.io/docs/concepts/workloads/pods/pod-lifecycle#container-probes'
                    format: int32
                    type: integer
                type: object
              loadBalancerService:
                nullable: true
                properties:
                  database:
                    description: Name of database configuration to use; must be defined
                      in components.
                    maxLength: 32
                    minLength: 1
                    type: string
                required:
                - database
                type: object
              logLevel:
                default:
                  all: error
                properties:
                  all:
                    description: Sets the global logging level
                    enum:
                    - trace
                    - debug
                    - info
                    - warn
                    - error
                    - "off"
                    type: string
                required:
                - all
                type: object
              mode:
                description: The mode used to process incoming requests
                oneOf:
                - required:
                  - basic
                - required:
                  - apiRouter
                - required:
                  - gatewayApi
                properties:
                  apiRouter:
                    description: Route among provided APIs
                    properties:
                      apis:
                        description: List of `API` custom resources to deploy to this
                          Runtime
                        items:
                          type: string
                        minItems: 1
                        type: array
                      assembly:
                        description: Name of `Assembly` custom resource to define
                          assembly flow. The `Assembly` must use `flow` type of assembly.
                        nullable: true
                        type: string
                      debugProbeService:
                        description: Configure debug probe service
                        nullable: true
                        properties:
                          database:
                            description: Name of database configuration to use; must
                              be defined in components.
                            maxLength: 32
                            minLength: 1
                            type: string
                        required:
                        - database
                        type: object
                      plans:
                        description: Properties specific to a selection of APIs or
                          their operations
                        items:
                          properties:
                            apis:
                              items:
                                properties:
                                  name:
                                    type: string
                                  operations:
                                    items:
                                      properties:
                                        operation:
                                          nullable: true
                                          type: string
                                        operationId:
                                          nullable: true
                                          type: string
                                        path:
                                          nullable: true
                                          type: string
                                        rateLimitMap:
                                          additionalProperties:
                                            type: string
                                          description: Override plan rateLimitMap
                                            for this operation. Any alias not found
                                            in this map is retrieved from the plan
                                            rateLimitMap.
                                          type: object
                                      type: object
                                    type: array
                                required:
                                - name
                                type: object
                              type: array
                            countLimitMap:
                              additionalProperties:
                                type: string
                              type: object
                            name:
                              type: string
                            properties:
                              additionalProperties:
                                type: string
                              type: object
                            rateLimitMap:
                              additionalProperties:
                                type: string
                              type: object
                            telemetry:
                              additionalProperties:
                                type: string
                              type: object
                          required:
                          - name
                          type: object
                        type: array
                      routing:
                        description: External routing configuration for this Runtime
                        properties:
                          basePath:
                            type: string
                          domain:
                            type: string
                          subdomain:
                            type: string
                        required:
                        - basePath
                        - domain
                        - subdomain
                        type: object
                      subscriptionService:
                        description: Configure gateway authentication / authorization
                          for APIs
                        nullable: true
                        properties:
                          cache:
                            nullable: true
                            properties:
                              enableStale:
                                nullable: true
                                type: boolean
                              maxRecords:
                                format: uint64
                                maximum: 1000
                                minimum: 10
                                nullable: true
                                type: integer
                              ttlSeconds:
                                format: uint64
                                maximum: 3600
                                minimum: 1
                                type: integer
                            required:
                            - ttlSeconds
                            type: object
                          database:
                            description: Name of database configuration to use; must
                              be defined in components.
                            maxLength: 32
                            minLength: 1
                            type: string
                        required:
                        - database
                        type: object
                    required:
                    - apis
                    type: object
                  basic:
                    description: Execute given assembly
                    properties:
                      assembly:
                        description: Name of `Assembly` custom resource to execute.
                          The `Assembly` must use `basic` type of assembly.
                        type: string
                    required:
                    - assembly
                    type: object
                  gatewayApi:
                    description: Gateway API
                    properties:
                      backendRefs:
                        description: List of BackendRefs and their associated configuration
                          (endpoints, auto-scaling config, etc.)
                        items:
                          description: Configuration for a single BackendRef
                          properties:
                            autoScaleConfig:
                              description: Name of effective AutoScaleConfig for the
                                target, if any. Only supported for `target` of type
                                `BackendRefTarget::Runtime`.
                              nullable: true
                              type: string
                            endpoints:
                              description: List of endpoints known to exist on the
                                target
                              items:
                                type: string
                              type: array
                            target:
                              description: The backendRef's target resource metadata
                              properties:
                                kind:
                                  description: Supported `BackendRef` kinds
                                  enum:
                                  - Runtime
                                  - Service
                                  type: string
                                name:
                                  type: string
                                namespace:
                                  type: string
                              required:
                              - kind
                              - name
                              - namespace
                              type: object
                          required:
                          - endpoints
                          - target
                          type: object
                        type: array
                      httpRoutes:
                        description: List of `HTTPRoute` resources to deploy to this
                          Runtime
                        items:
                          type: string
                        minItems: 1
                        type: array
                      listenerPortMap:
                        description: Map from Runtime listener name to Gateway listener
                          names
                        items:
                          description: Maps the name of a Runtime listener to the
                            names of Gateway listeners
                          properties:
                            gatewayListeners:
                              items:
                                type: string
                              type: array
                            runtimeListener:
                              type: string
                          required:
                          - gatewayListeners
                          - runtimeListener
                          type: object
                        type: array
                      listenerRouteMap:
                        description: Map from Gateway listener names to routes attached
                          to the specified listener
                        items:
                          description: Maps the name of a GatewayListeners to an array
                            of TypedObjectReferences, each of which is a reference
                            to a route (e.g., HTTPRoute) that is attached to the specified
                            listener.
                          properties:
                            gatewayListener:
                              type: string
                            routes:
                              items:
                                description: TypedObjectReference contains enough
                                  information to let you locate the typed referenced
                                  object
                                properties:
                                  apiGroup:
                                    description: APIGroup is the group for the resource
                                      being referenced. If APIGroup is not specified,
                                      the specified Kind must be in the core API group.
                                      For any other third-party types, APIGroup is
                                      required.
                                    type: string
                                  kind:
                                    description: Kind is the type of resource being
                                      referenced
                                    type: string
                                  name:
                                    description: Name is the name of resource being
                                      referenced
                                    type: string
                                  namespace:
                                    description: Namespace is the namespace of resource
                                      being referenced Note that when a namespace
                                      is specified, a gateway.networking.k8s.io/ReferenceGrant
                                      object is required in the referent namespace
                                      to allow that namespace's owner to accept the
                                      reference. See the ReferenceGrant documentation
                                      for details. (Alpha) This field requires the
                                      CrossNamespaceVolumeDataSource feature gate
                                      to be enabled.
                                    type: string
                                required:
                                - kind
                                - name
                                type: object
                              type: array
                          required:
                          - gatewayListener
                          - routes
                          type: object
                        type: array
                    required:
                    - httpRoutes
                    type: object
                type: object
              modules:
                additionalProperties:
                  properties:
                    configMaps:
                      description: List of ConfigMaps to make available in the module
                      items:
                        properties:
                          name:
                            description: Name of ConfigMap
                            type: string
                            x-kubernetes-validations:
                            - message: ConfigMap name must not be empty
                              rule: self.size() > 0
                          subPath:
                            description: Optionally, mount the ConfigMap content into
                              this subPath relative to the module root
                            nullable: true
                            type: string
                            x-kubernetes-validations:
                            - message: subPath must be a relative path (cannot start
                                with '/')
                              rule: '!self.startsWith(''/'')'
                            - message: subPath must not end with '/'
                              rule: '!self.endsWith(''/'')'
                        required:
                        - name
                        type: object
                      type: array
                      x-kubernetes-validations:
                      - message: at least one ConfigMap must be specified
                        rule: self.size() > 0
                  required:
                  - configMaps
                  type: object
                type: object
                x-kubernetes-validations:
                - message: module names must consist of lower case alphanumeric characters
                    or '-', must start and end with an alphanumeric character, and
                    must not exceed 32 characters in length
                  rule: self.all(key, key.matches('^[0-9a-z]$|^[0-9a-z][0-9a-z-]{0,30}[0-9a-z]$'))
              oauth:
                nullable: true
                properties:
                  cacheService:
                    nullable: true
                    properties:
                      database:
                        description: Name of database configuration to use; must be
                          defined in components.
                        maxLength: 32
                        minLength: 1
                        type: string
                    required:
                    - database
                    type: object
                type: object
              openTelemetry:
                description: Configuration for OpenTelemetry in microservices.
                nullable: true
                properties:
                  additionalSpans:
                    description: Add more granular spans for transactions. By default,
                      only required spans per OpenTelemetry specification are produced
                      (e.g., http).
                    enum:
                    - globalFlow
                    - assemblyPolicy
                    - globalPolicy
                    - userDefinedPolicy
                    nullable: true
                    type: string
                  attributes:
                    additionalProperties:
                      type: string
                    description: Additional attributes to be set on each span.
                    nullable: true
                    type: object
                  batching:
                    description: Batching configuration to use when exporting.
                    nullable: true
                    properties:
                      batchSize:
                        description: Maximum number of spans to process in a single
                          batch.
                        format: uint
                        minimum: 0
                        type: integer
                      interval:
                        description: Interval between two consecutive exports.
                        type: string
                      queueSize:
                        description: Maximum queue size to buffer spans for delayed
                          processing.
                        format: uint
                        minimum: 0
                        type: integer
                      threads:
                        description: Maximum concurrent exports to perform.
                        format: uint
                        minimum: 0
                        type: integer
                      timeout:
                        description: Maximum time allowed to complete the export.
                        type: string
                    required:
                    - batchSize
                    - interval
                    - queueSize
                    - threads
                    - timeout
                    type: object
                  endpoints:
                    description: List of endpoints to send telemetry data to.
                    items:
                      properties:
                        protocol:
                          description: Protocol used in export.
                          enum:
                          - grpc
                          - http/protobuf
                          - http/json
                          type: string
                        signals:
                          description: Signals to send to this endpoint. Defaults
                            to traces and logs.
                          nullable: true
                          properties:
                            logs:
                              description: Send OpenTelemetry Logs signal
                              type: boolean
                            metrics:
                              description: Send OpenTelemetry Metrics signal
                              type: boolean
                            traces:
                              description: Send OpenTelemetry Traces signal
                              type: boolean
                          required:
                          - logs
                          - metrics
                          - traces
                          type: object
                        tlsClientProfile:
                          description: Optional TlsClientProfile for use when connecting
                            to endpoint.
                          nullable: true
                          type: string
                        url:
                          description: URL to OTLP collector endpoint.
                          type: string
                      required:
                      - protocol
                      - url
                      type: object
                    minItems: 1
                    type: array
                  headers:
                    additionalProperties:
                      type: string
                    description: Additional headers to be sent in export request.
                    nullable: true
                    type: object
                  sampling:
                    description: Sampling of spans to apply when collecting spans
                      for export.
                    nullable: true
                    properties:
                      parentBased:
                        description: Use parent based sampling when available
                        type: boolean
                      ratio:
                        description: Ratio to apply when using RatioBased sampler
                        format: double
                        nullable: true
                        type: number
                      samplerType:
                        description: Built-in sampler type to use when parent sampling
                          is not in effect
                        enum:
                        - AlwaysOn
                        - AlwaysOff
                        - RatioBased
                        type: string
                    required:
                    - parentBased
                    - samplerType
                    type: object
                required:
                - endpoints
                type: object
              rateLimitService:
                nullable: true
                properties:
                  cache:
                    nullable: true
                    properties:
                      capacity:
                        description: Maximum number of individual limits that can
                          be stored in cache. This is an LRU (least-recently-used)
                          cache, so exceeding the number of entries will result in
                          cache misses for the oldest keys.
                        format: uint64
                        maximum: 65536
                        minimum: 32
                        type: integer
                      fallback:
                        description: Configuration for the fallback to cache-only
                          operation if there is an error communicating with the rate
                          limit datastore. If not specified, fallback will not occur.
                        nullable: true
                        properties:
                          enabled:
                            default: true
                            description: If true (default), rate limit service will
                              fall back to cache and continue functioning if communication
                              with the datastore returns an error. If false, fallback
                              will not occur, so a datastore error will result in
                              a transaction error.
                            type: boolean
                        type: object
                      maxAgeMilliseconds:
                        default: 500
                        description: The maximum age (in milliseconds) of cache entry
                          (time since last updated from database) before the cache
                          will elect to fetch a new value from the datastore. The
                          default value is 500 milliseconds.
                        format: uint64
                        maximum: 5000
                        minimum: 5
                        type: integer
                      maxPercent:
                        default: 85
                        description: 'The closer a rate limit value gets to `max`,
                          the more likely it is for the value to be exceeded by peer
                          runtimes. This property specifies the maximum value found
                          in cache, as a percentage of `max`, before cache is ignored
                          and the actual value is retrieved from the datastore. This
                          helps minimize the likelihood of an overage. Default: 85%'
                        format: int64
                        maximum: 99
                        minimum: 1
                        type: integer
                    required:
                    - capacity
                    type: object
                  database:
                    description: Name of database configuration to use; must be defined
                      in components.
                    maxLength: 32
                    minLength: 1
                    type: string
                  responseHeaders:
                    description: Style of response headers (e.g., rate and count limit
                      response headers)
                    enum:
                    - standard
                    - combined
                    nullable: true
                    type: string
                  updateIntervalMilliseconds:
                    default: 97
                    format: uint64
                    maximum: 1000
                    minimum: 5
                    type: integer
                required:
                - database
                type: object
              readinessProbe:
                default:
                  httpGet:
                    path: /ready
                    port: 3001
                description: Configures the readiness probe for Runtime container
                nullable: true
                properties:
                  exec:
                    description: Exec specifies a command to execute in the container.
                    properties:
                      command:
                        description: Command is the command line to execute inside
                          the container, the working directory for the command  is
                          root ('/') in the container's filesystem. The command is
                          simply exec'd, it is not run inside a shell, so traditional
                          shell instructions ('|', etc) won't work. To use a shell,
                          you need to explicitly call out to that shell. Exit status
                          of 0 is treated as live/healthy and non-zero is unhealthy.
                        items:
                          type: string
                        type: array
                    type: object
                  failureThreshold:
                    description: Minimum consecutive failures for the probe to be
                      considered failed after having succeeded. Defaults to 3. Minimum
                      value is 1.
                    format: int32
                    type: integer
                  grpc:
                    description: GRPC specifies a GRPC HealthCheckRequest.
                    properties:
                      port:
                        description: Port number of the gRPC service. Number must
                          be in the range 1 to 65535.
                        format: int32
                        type: integer
                      service:
                        description: |-
                          Service is the name of the service to place in the gRPC HealthCheckRequest (see https://github.com/grpc/grpc/blob/master/doc/health-checking.md).

                          If this is not specified, the default behavior is defined by gRPC.
                        type: string
                    required:
                    - port
                    type: object
                  httpGet:
                    description: HTTPGet specifies an HTTP GET request to perform.
                    properties:
                      host:
                        description: Host name to connect to, defaults to the pod
                          IP. You probably want to set "Host" in httpHeaders instead.
                        type: string
                      httpHeaders:
                        description: Custom headers to set in the request. HTTP allows
                          repeated headers.
                        items:
                          description: HTTPHeader describes a custom header to be
                            used in HTTP probes
                          properties:
                            name:
                              description: The header field name. This will be canonicalized
                                upon output, so case-variant names will be understood
                                as the same header.
                              type: string
                            value:
                              description: The header field value
                              type: string
                          required:
                          - name
                          - value
                          type: object
                        type: array
                      path:
                        description: Path to access on the HTTP server.
                        type: string
                      port:
                        description: Name or number of the port to access on the container.
                          Number must be in the range 1 to 65535. Name must be an
                          IANA_SVC_NAME.
                        x-kubernetes-int-or-string: true
                      scheme:
                        description: Scheme to use for connecting to the host. Defaults
                          to HTTP.
                        type: string
                    required:
                    - port
                    type: object
                  initialDelaySeconds:
                    description: 'Number of seconds after the container has started
                      before liveness probes are initiated. More info: https://kubernetes.io/docs/concepts/workloads/pods/pod-lifecycle#container-probes'
                    format: int32
                    type: integer
                  periodSeconds:
                    description: How often (in seconds) to perform the probe. Default
                      to 10 seconds. Minimum value is 1.
                    format: int32
                    type: integer
                  successThreshold:
                    description: Minimum consecutive successes for the probe to be
                      considered successful after having failed. Defaults to 1. Must
                      be 1 for liveness and startup. Minimum value is 1.
                    format: int32
                    type: integer
                  tcpSocket:
                    description: TCPSocket specifies a connection to a TCP port.
                    properties:
                      host:
                        description: 'Optional: Host name to connect to, defaults
                          to the pod IP.'
                        type: string
                      port:
                        description: Number or name of the port to access on the container.
                          Number must be in the range 1 to 65535. Name must be an
                          IANA_SVC_NAME.
                        x-kubernetes-int-or-string: true
                    required:
                    - port
                    type: object
                  terminationGracePeriodSeconds:
                    description: Optional duration in seconds the pod needs to terminate
                      gracefully upon probe failure. The grace period is the duration
                      in seconds after the processes running in the pod are sent a
                      termination signal and the time when the processes are forcibly
                      halted with a kill signal. Set this value longer than the expected
                      cleanup time for your process. If this value is nil, the pod's
                      terminationGracePeriodSeconds will be used. Otherwise, this
                      value overrides the value provided by the pod spec. Value must
                      be non-negative integer. The value zero indicates stop immediately
                      via the kill signal (no opportunity to shut down). This is a
                      beta field and requires enabling ProbeTerminationGracePeriod
                      feature gate. Minimum value is 1. spec.terminationGracePeriodSeconds
                      is used if unset.
                    format: int64
                    type: integer
                  timeoutSeconds:
                    description: 'Number of seconds after which the probe times out.
                      Defaults to 1 second. Minimum value is 1. More info: https://kubernetes.io/docs/concepts/workloads/pods/pod-lifecycle#container-probes'
                    format: int32
                    type: integer
                type: object
              replicas:
                format: int32
                minimum: 0
                nullable: true
                type: integer
              resources:
                description: Optionally configure container resources (CPU & memory)
                nullable: true
                properties:
                  limits:
                    description: Resource limits
                    properties:
                      cpu:
                        description: CPU expressed using Kubernetes resource quantity
                          syntax
                        type: string
                      memory:
                        description: Memory expressed using Kubernetes resource quantity
                          syntax
                        type: string
                    required:
                    - cpu
                    - memory
                    type: object
                  requests:
                    description: Resource requests
                    properties:
                      cpu:
                        description: CPU expressed using Kubernetes resource quantity
                          syntax
                        type: string
                      memory:
                        description: Memory expressed using Kubernetes resource quantity
                          syntax
                        type: string
                    required:
                    - cpu
                    - memory
                    type: object
                required:
                - limits
                - requests
                type: object
                x-kubernetes-validations:
                - message: CPU request must be at least 10m
                  rule: quantity(self.requests.cpu).compareTo(quantity("10m")) >=
                    0
                - message: memory request must be at least 20Mi
                  rule: quantity(self.requests.memory).compareTo(quantity("20Mi"))
                    >= 0
                - message: CPU limit must be greater than or equal to CPU request
                  rule: quantity(self.limits.cpu).compareTo(quantity(self.requests.cpu))
                    >= 0
                - message: memory limit must be greater than or equal to memory request
                  rule: quantity(self.limits.memory).compareTo(quantity(self.requests.memory))
                    >= 0
              serviceName:
                description: Customize the name of the Service generated for this
                  Runtime
                nullable: true
                type: string
              sqlInjectionFilters:
                description: SQL injection filter definitions
                nullable: true
                properties:
                  andOrAttack:
                    nullable: true
                    type: string
                  commands:
                    nullable: true
                    type: string
                  custom:
                    additionalProperties:
                      type: string
                    nullable: true
                    type: object
                    x-kubernetes-validations:
                    - message: 'invalid custom SQL injection filter: ''commands''
                        is a reserved rule name'
                      rule: self.filter(k, k == 'commands').size() == 0
                    - message: 'invalid custom SQL injection filter: ''escapeSequence''
                        is a reserved rule name'
                      rule: self.filter(k, k == 'escapeSequence').size() == 0
                    - message: 'invalid custom SQL injection filter: ''keywordInjection''
                        is a reserved rule name'
                      rule: self.filter(k, k == 'keywordInjection').size() == 0
                    - message: 'invalid custom SQL injection filter: ''likeMatch''
                        is a reserved rule name'
                      rule: self.filter(k, k == 'likeMatch').size() == 0
                    - message: 'invalid custom SQL injection filter: ''metacharacters''
                        is a reserved rule name'
                      rule: self.filter(k, k == 'metacharacters').size() == 0
                    - message: 'invalid custom SQL injection filter: ''msSqlCommands''
                        is a reserved rule name'
                      rule: self.filter(k, k == 'msSqlCommands').size() == 0
                    - message: 'invalid custom SQL injection filter: ''andOrAttack''
                        is a reserved rule name'
                      rule: self.filter(k, k == 'andOrAttack').size() == 0
                    - message: 'invalid custom SQL injection filter: ''oracleBufferOverflow''
                        is a reserved rule name'
                      rule: self.filter(k, k == 'oracleBufferOverflow').size() ==
                        0
                    - message: 'invalid custom SQL injection filter: ''simpleMetacharacters''
                        is a reserved rule name'
                      rule: self.filter(k, k == 'simpleMetacharacters').size() ==
                        0
                  escapeSequence:
                    nullable: true
                    type: string
                  keywordInjection:
                    nullable: true
                    type: string
                  likeMatch:
                    nullable: true
                    type: string
                  metacharacters:
                    nullable: true
                    type: string
                  msSqlCommands:
                    nullable: true
                    type: string
                  oracleBufferOverflow:
                    nullable: true
                    type: string
                  simpleMetacharacters:
                    nullable: true
                    type: string
                type: object
            required:
            - image
            - mode
            type: object
            x-kubernetes-validations:
            - message: rateLimitService is required when components.rateLimits is
                defined
              rule: self.?components.?rateLimits.optMap(rl, rl.size()).orValue(0)
                == 0 || has(self.rateLimitService)
            - message: rateLimitService is required when components.countLimits is
                defined
              rule: self.?components.?countLimits.optMap(cl, cl.size()).orValue(0)
                == 0 || has(self.rateLimitService)
          status:
            nullable: true
            properties:
              autoScaleConfig:
                nullable: true
                type: string
              autoScaleMetrics:
                nullable: true
                properties:
                  lastRequestAt:
                    description: The last time this resource received a request via
                      an autoscaling router.
                    format: date-time
                    nullable: true
                    type: string
                  lastUpdateAt:
                    description: The last time an autoscaling controller updated this
                      status object.
                    format: date-time
                    nullable: true
                    type: string
                type: object
              conditions:
                items:
                  description: Condition contains details for one aspect of the current
                    state of this API Resource.
                  properties:
                    lastTransitionTime:
                      description: lastTransitionTime is the last time the condition
                        transitioned from one status to another. This should be when
                        the underlying condition changed.  If that is not known, then
                        using the time when the API field changed is acceptable.
                      format: date-time
                      type: string
                    message:
                      description: message is a human readable message indicating
                        details about the transition. This may be an empty string.
                      type: string
                    observedGeneration:
                      description: observedGeneration represents the .metadata.generation
                        that the condition was set based upon. For instance, if .metadata.generation
                        is currently 12, but the .status.conditions[x].observedGeneration
                        is 9, the condition is out of date with respect to the current
                        state of the instance.
                      format: int64
                      type: integer
                    reason:
                      description: reason contains a programmatic identifier indicating
                        the reason for the condition's last transition. Producers
                        of specific condition types may define expected values and
                        meanings for this field, and whether the values are considered
                        a guaranteed API. The value should be a CamelCase string.
                        This field may not be empty.
                      type: string
                    status:
                      description: status of the condition, one of True, False, Unknown.
                      type: string
                    type:
                      description: type of condition in CamelCase or in foo.example.com/CamelCase.
                      type: string
                  required:
                  - lastTransitionTime
                  - message
                  - reason
                  - status
                  - type
                  type: object
                nullable: true
                type: array
              deployment:
                description: DeploymentStatus is the most recently observed status
                  of the Deployment.
                nullable: true
                properties:
                  availableReplicas:
                    description: Total number of available non-terminating pods (ready
                      for at least minReadySeconds) targeted by this deployment.
                    format: int32
                    type: integer
                  collisionCount:
                    description: Count of hash collisions for the Deployment. The
                      Deployment controller uses this field as a collision avoidance
                      mechanism when it needs to create the name for the newest ReplicaSet.
                    format: int32
                    type: integer
                  conditions:
                    description: Represents the latest available observations of a
                      deployment's current state.
                    items:
                      description: DeploymentCondition describes the state of a deployment
                        at a certain point.
                      properties:
                        lastTransitionTime:
                          description: Last time the condition transitioned from one
                            status to another.
                          format: date-time
                          type: string
                        lastUpdateTime:
                          description: The last time this condition was updated.
                          format: date-time
                          type: string
                        message:
                          description: A human readable message indicating details
                            about the transition.
                          type: string
                        reason:
                          description: The reason for the condition's last transition.
                          type: string
                        status:
                          description: Status of the condition, one of True, False,
                            Unknown.
                          type: string
                        type:
                          description: Type of deployment condition.
                          type: string
                      required:
                      - status
                      - type
                      type: object
                    type: array
                  name:
                    type: string
                  observedGeneration:
                    description: The generation observed by the deployment controller.
                    format: int64
                    type: integer
                  readyReplicas:
                    description: Total number of non-terminating pods targeted by
                      this Deployment with a Ready Condition.
                    format: int32
                    type: integer
                  replicas:
                    description: Total number of non-terminating pods targeted by
                      this deployment (their labels match the selector).
                    format: int32
                    type: integer
                  terminatingReplicas:
                    description: |-
                      Total number of terminating pods targeted by this deployment. Terminating pods have a non-null .metadata.deletionTimestamp and have not yet reached the Failed or Succeeded .status.phase.

                      This is an alpha field. Enable DeploymentReplicaSetTerminatingReplicas to be able to use this field.
                    format: int32
                    type: integer
                  unavailableReplicas:
                    description: Total number of unavailable pods targeted by this
                      deployment. This is the total number of pods that are still
                      required for the deployment to have 100% available capacity.
                      They may either be pods that are running but not yet available
                      or pods that still have not been created.
                    format: int32
                    type: integer
                  updatedReplicas:
                    description: Total number of non-terminating pods targeted by
                      this deployment that have the desired template spec.
                    format: int32
                    type: integer
                required:
                - name
                type: object
              hash:
                nullable: true
                type: string
              labelSelector:
                nullable: true
                type: string
              listeners:
                items:
                  properties:
                    endpoint:
                      description: Service endpoint for this listener
                      type: string
                    name:
                      description: Listener name
                      type: string
                  required:
                  - endpoint
                  - name
                  type: object
                nullable: true
                type: array
              replicas:
                format: int32
                nullable: true
                type: integer
              service:
                nullable: true
                type: string
            type: object
        required:
        - spec
        title: RuntimeValidated
        type: object
        x-kubernetes-validations:
        - message: metadata.name must be 32 characters or less
          rule: self.metadata.name.size() <= 32
    served: true
    storage: true
    subresources:
      scale:
        labelSelectorPath: .status.labelSelector
        specReplicasPath: .spec.replicas
        statusReplicasPath: .status.replicas
      status: {}
---
apiVersion: apiextensions.k8s.io/v1
kind: CustomResourceDefinition
metadata:
  name: tlsclientprofiles.nano.datapower.ibm.com
spec:
  group: nano.datapower.ibm.com
  names:
    categories:
    - dpn
    kind: TlsClientProfile
    plural: tlsclientprofiles
    shortNames:
    - tlscp
    singular: tlsclientprofile
  scope: Namespaced
  versions:
  - additionalPrinterColumns:
    - description: age of resource
      jsonPath: .metadata.creationTimestamp
      name: Age
      type: date
    name: v1alpha1
    schema:
      openAPIV3Schema:
        description: Auto-generated derived type for TlsClientProfileSpec via `CustomResource`
        properties:
          spec:
            properties:
              cipherSuites:
                default:
                - AES_256_GCM_SHA384
                - CHACHA20_POLY1305_SHA256
                - ECDHE_ECDSA_WITH_AES_256_GCM_SHA384
                - ECDHE_RSA_WITH_AES_256_GCM_SHA384
                items:
                  enum:
                  - AES_256_GCM_SHA384
                  - CHACHA20_POLY1305_SHA256
                  - ECDHE_ECDSA_WITH_AES_256_GCM_SHA384
                  - ECDHE_RSA_WITH_AES_256_GCM_SHA384
                  type: string
                type: array
              secret:
                nullable: true
                type: string
              versions:
                default:
                - TLSv1.2
                - TLSv1.3
                items:
                  enum:
                  - TLSv1.2
                  - TLSv1.3
                  type: string
                type: array
            type: object
          status:
            nullable: true
            properties:
              conditions:
                items:
                  description: Condition contains details for one aspect of the current
                    state of this API Resource.
                  properties:
                    lastTransitionTime:
                      description: lastTransitionTime is the last time the condition
                        transitioned from one status to another. This should be when
                        the underlying condition changed.  If that is not known, then
                        using the time when the API field changed is acceptable.
                      format: date-time
                      type: string
                    message:
                      description: message is a human readable message indicating
                        details about the transition. This may be an empty string.
                      type: string
                    observedGeneration:
                      description: observedGeneration represents the .metadata.generation
                        that the condition was set based upon. For instance, if .metadata.generation
                        is currently 12, but the .status.conditions[x].observedGeneration
                        is 9, the condition is out of date with respect to the current
                        state of the instance.
                      format: int64
                      type: integer
                    reason:
                      description: reason contains a programmatic identifier indicating
                        the reason for the condition's last transition. Producers
                        of specific condition types may define expected values and
                        meanings for this field, and whether the values are considered
                        a guaranteed API. The value should be a CamelCase string.
                        This field may not be empty.
                      type: string
                    status:
                      description: status of the condition, one of True, False, Unknown.
                      type: string
                    type:
                      description: type of condition in CamelCase or in foo.example.com/CamelCase.
                      type: string
                  required:
                  - lastTransitionTime
                  - message
                  - reason
                  - status
                  - type
                  type: object
                nullable: true
                type: array
              configMap:
                nullable: true
                type: string
              hash:
                nullable: true
                type: string
            type: object
        required:
        - spec
        title: TlsClientProfileValidated
        type: object
        x-kubernetes-validations:
        - message: metadata.name must be 32 characters or less
          rule: self.metadata.name.size() <= 32
    served: true
    storage: true
    subresources:
      status: {}
---
apiVersion: apiextensions.k8s.io/v1
kind: CustomResourceDefinition
metadata:
  name: tlsserverprofiles.nano.datapower.ibm.com
spec:
  group: nano.datapower.ibm.com
  names:
    categories:
    - dpn
    kind: TlsServerProfile
    plural: tlsserverprofiles
    shortNames:
    - tlssp
    singular: tlsserverprofile
  scope: Namespaced
  versions:
  - additionalPrinterColumns:
    - description: age of resource
      jsonPath: .metadata.creationTimestamp
      name: Age
      type: date
    name: v1alpha1
    schema:
      openAPIV3Schema:
        description: Auto-generated derived type for TlsServerProfileSpec via `CustomResource`
        properties:
          spec:
            properties:
              cipherSuites:
                default:
                - AES_256_GCM_SHA384
                - CHACHA20_POLY1305_SHA256
                - ECDHE_ECDSA_WITH_AES_256_GCM_SHA384
                - ECDHE_RSA_WITH_AES_256_GCM_SHA384
                items:
                  enum:
                  - AES_256_GCM_SHA384
                  - CHACHA20_POLY1305_SHA256
                  - ECDHE_ECDSA_WITH_AES_256_GCM_SHA384
                  - ECDHE_RSA_WITH_AES_256_GCM_SHA384
                  type: string
                type: array
              secret:
                type: string
              versions:
                default:
                - TLSv1.2
                - TLSv1.3
                items:
                  enum:
                  - TLSv1.2
                  - TLSv1.3
                  type: string
                type: array
            required:
            - secret
            type: object
          status:
            nullable: true
            properties:
              conditions:
                items:
                  description: Condition contains details for one aspect of the current
                    state of this API Resource.
                  properties:
                    lastTransitionTime:
                      description: lastTransitionTime is the last time the condition
                        transitioned from one status to another. This should be when
                        the underlying condition changed.  If that is not known, then
                        using the time when the API field changed is acceptable.
                      format: date-time
                      type: string
                    message:
                      description: message is a human readable message indicating
                        details about the transition. This may be an empty string.
                      type: string
                    observedGeneration:
                      description: observedGeneration represents the .metadata.generation
                        that the condition was set based upon. For instance, if .metadata.generation
                        is currently 12, but the .status.conditions[x].observedGeneration
                        is 9, the condition is out of date with respect to the current
                        state of the instance.
                      format: int64
                      type: integer
                    reason:
                      description: reason contains a programmatic identifier indicating
                        the reason for the condition's last transition. Producers
                        of specific condition types may define expected values and
                        meanings for this field, and whether the values are considered
                        a guaranteed API. The value should be a CamelCase string.
                        This field may not be empty.
                      type: string
                    status:
                      description: status of the condition, one of True, False, Unknown.
                      type: string
                    type:
                      description: type of condition in CamelCase or in foo.example.com/CamelCase.
                      type: string
                  required:
                  - lastTransitionTime
                  - message
                  - reason
                  - status
                  - type
                  type: object
                nullable: true
                type: array
              configMap:
                nullable: true
                type: string
              hash:
                nullable: true
                type: string
            type: object
        required:
        - spec
        title: TlsServerProfileValidated
        type: object
        x-kubernetes-validations:
        - message: metadata.name must be 32 characters or less
          rule: self.metadata.name.size() <= 32
    served: true
    storage: true
    subresources:
      status: {}
---
apiVersion: apiextensions.k8s.io/v1
kind: CustomResourceDefinition
metadata:
  name: userdefinedpolicies.nano.datapower.ibm.com
spec:
  group: nano.datapower.ibm.com
  names:
    categories:
    - dpn
    kind: UserDefinedPolicy
    plural: userdefinedpolicies
    shortNames:
    - udp
    - udps
    singular: userdefinedpolicy
  scope: Namespaced
  versions:
  - additionalPrinterColumns:
    - description: age of resource
      jsonPath: .metadata.creationTimestamp
      name: Age
      type: date
    name: v1alpha1
    schema:
      openAPIV3Schema:
        description: Auto-generated derived type for UserDefinedPolicySpec via `CustomResource`
        properties:
          spec:
            properties:
              assembly:
                description: Assembly definition for the UserDefinedPolicy
                type: object
                x-kubernetes-preserve-unknown-fields: true
              parameters:
                description: JSON schema for parameters required by the assembly
                type: object
                x-kubernetes-preserve-unknown-fields: true
            required:
            - assembly
            type: object
          status:
            nullable: true
            properties:
              conditions:
                items:
                  description: Condition contains details for one aspect of the current
                    state of this API Resource.
                  properties:
                    lastTransitionTime:
                      description: lastTransitionTime is the last time the condition
                        transitioned from one status to another. This should be when
                        the underlying condition changed.  If that is not known, then
                        using the time when the API field changed is acceptable.
                      format: date-time
                      type: string
                    message:
                      description: message is a human readable message indicating
                        details about the transition. This may be an empty string.
                      type: string
                    observedGeneration:
                      description: observedGeneration represents the .metadata.generation
                        that the condition was set based upon. For instance, if .metadata.generation
                        is currently 12, but the .status.conditions[x].observedGeneration
                        is 9, the condition is out of date with respect to the current
                        state of the instance.
                      format: int64
                      type: integer
                    reason:
                      description: reason contains a programmatic identifier indicating
                        the reason for the condition's last transition. Producers
                        of specific condition types may define expected values and
                        meanings for this field, and whether the values are considered
                        a guaranteed API. The value should be a CamelCase string.
                        This field may not be empty.
                      type: string
                    status:
                      description: status of the condition, one of True, False, Unknown.
                      type: string
                    type:
                      description: type of condition in CamelCase or in foo.example.com/CamelCase.
                      type: string
                  required:
                  - lastTransitionTime
                  - message
                  - reason
                  - status
                  - type
                  type: object
                nullable: true
                type: array
              configMap:
                nullable: true
                type: string
              dependencies:
                description: Describes the dependencies for this resource's assembly.
                nullable: true
                properties:
                  cacheService:
                    default: false
                    description: True if this resource's assembly depends on a cacheService
                      configuration.
                    type: boolean
                  customSqlInjectionFilters:
                    default: []
                    description: Names of custom SQL injection filters required by
                      this resource's assembly.
                    items:
                      type: string
                    type: array
                  distributedVariableService:
                    default: false
                    description: True if this resource's assembly depends on a distributedVariableService
                      configuration.
                    type: boolean
                  jwtProviders:
                    default: []
                    description: List of JWTProvider resources depended on by this
                      resource's assembly.
                    items:
                      type: string
                    type: array
                  loadBalancerService:
                    default: false
                    description: True if this resource's assembly depends on a loadBalancerService
                      configuration.
                    type: boolean
                  oauthProviders:
                    default: []
                    description: List of OAuthProvider resources depended on by this
                      resource's assembly.
                    items:
                      type: string
                    type: array
                  plans:
                    default: false
                    description: True is this resource's assembly depends on plans.
                    type: boolean
                  rateLimitService:
                    default: false
                    description: True if this resource's assembly depends on a rateLimitService
                      configuration.
                    type: boolean
                  secrets:
                    additionalProperties:
                      description: Defines sets of required and optional data key(s)
                        within a Secret.
                      properties:
                        optional:
                          description: Keys which may be used if present in the Secret.
                          items:
                            type: string
                          type: array
                        required:
                          description: Keys which are required to exist in the Secret.
                          items:
                            type: string
                          type: array
                      type: object
                    default: {}
                    description: Secrets depended on by this resource's assembly.
                      Maps Secret name to required and optional data key(s) within
                      Secret.
                    type: object
                  tlsClientProfiles:
                    default: []
                    description: List of TlsClientProfile resources depended on by
                      this resource's assembly.
                    items:
                      type: string
                    type: array
                  userDefinedPolicies:
                    default: []
                    description: List of UserDefinedPolicy resources depended on by
                      this resource's assembly.
                    items:
                      type: string
                    type: array
                type: object
              hash:
                nullable: true
                type: string
            type: object
        required:
        - spec
        title: UserDefinedPolicyValidated
        type: object
        x-kubernetes-validations:
        - message: metadata.name must be 32 characters or less
          rule: self.metadata.name.size() <= 32
    served: true
    storage: true
    subresources:
      status: {}
