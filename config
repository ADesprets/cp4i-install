# This file contains values to be provisioned by the user for a specific installation

# a unique name used as a base name for components (cluster, project, etc...)
my_unique_name=adcp4i

# cluster definition
#Run ibmcloud ks versions to see the supported Kubernetes versions including OpenShift.
my_oc_version=4.10
# Run ibmcloud ks zone ls --provider (classic|vpc-classic|vpc-gen2) to list available zones
my_cluster_zone=par01
# Run ibmcloud ks zones --provider classic to list zone names for classic provider and set the CLUSTER_ZONE accordingly.
my_cluster_flavor=b3c.16x64
# To indicate the number of workers (local param)
my_cluster_workers=5

# Name of IBM Cloud ROKS cluster (local param)
my_ic_cluster_name=${my_unique_name}-${my_cluster_zone}
# SB pour le test
# my_ic_cluster_name=sb220513-wdc07-b3c.16x64

# Name of project (Namespace) where operators will be installed
my_oc_project=${my_unique_name}

#Name of the namespace used for catalogsource
my_oc_cs_ns=openshift-marketplace

# global operator to install (from doc): https://www.ibm.com/docs/en/cloud-paks/cp-integration/2021.4?topic=installing-operators-using-openshift-console
my_cp4i_operator_name=ibm-cp-integration
#my_cp4i_operator_channel=v1.5
my_cp4i_operator_channel=latest

# Capabilities operators channel: https://www.ibm.com/docs/en/cloud-paks/cp-integration/2021.4?topic=reference-operator-channel-versions-cloud-pak-integration-releases
my_ibm_navigator_operator_channel=v5.3
my_ibm_od_operator_channel=v2.5
my_ibm_ace_operator_channel=v4.1
my_ibm_apic_operator_channel=v2.5
my_ibm_ar_operator_channel=v1.4
my_ibm_es_channel=v3.0
my_ibm_hsts_operator_channel=v1.4
my_ibm_mq_operator_channel=v1.8
my_ibm_redis_operator_channel=v1.4

#IBM Cloud Pak for Integration 2021.4.1 (L-RJON-C7QG3S)
my_ibm_cp4i_license=L-RJON-C7QG3S
my_ibm_cp_ace_license=L-APEH-C9NCK6
my_ibm_cp_apic_license=L-RJON-C7BJ42
my_ibm_cp_ar_license=L-PNAA-C68928
my_ibm_cp_mq_license=$my_ibm_cp4i_license
my_ibm_cp_navigator_license=$my_ibm_cp4i_license

# IBM CP4I capabilities versions and others
my_ibm_cp_navigator_version=2021.4.1-2
my_ibm_cp_ace_version=12.0.4.0-r1
my_ibm_cp_apic_version=10.0.4.0-ifix3
my_ibm_cp_ar_version=2021.4.1-4
my_ibm_cp_apic_profile=n1xc7.m48
my_ibm_cp_es_version=11.0.0
my_ibm_cp_hsts_version=4.3.0
my_ibm_cp_mq_version=9.2.5.0-r1
my_ibm_cp_od_version=2021.4.1-4
#my_ibm_cp_redis_version=1.4.3

# Name of created objects for the installation
my_op_group=${my_oc_project}-opgrp
my_subscription=${my_cp4i_operator_name}-sub
my_cp_navigator_instance_name=${my_unique_name}-navigator
my_cp_od_instance_name=${my_unique_name}-od
my_cp_ace_dashboard_instance_name=${my_unique_name}-ace-db
my_cp_ace_designer_instance_name=${my_unique_name}-ace-dg
my_cp_apic_instance_name=${my_unique_name}-apic
my_cp_ar_instance_name=${my_unique_name}-ar
my_cp_es_instance_name=${my_unique_name}-es
my_cp_hsts_instance_name=${my_unique_name}-hsts
my_cp_mq_instance_name=${my_unique_name}-mq
my_cp_redis_instance_name=${my_unique_name}-redis

# These two ConfigMaps are used to configure ES metrics
my_cp_es_kafka_metricsConfig_name=${my_unique_name}-es-kafka-metrics
my_cp_es_zookeeper_metricsConfig_name=${my_unique_name}-es-zookeeper-metrics

# set to true/false to install, or not
my_install_all_with_cp4i_operator=false
my_install_navigator=true
my_install_od=false
my_install_ace_dd=true
my_install_ace_dg=true
my_install_apic=true
my_install_ar=true
my_install_es=true
my_install_hsts=false
my_install_mq=true

# license file to use
my_aspera_license_file="${privatedir}aspera-license"

# save json in file apikey.json : ibm cloud api key created from IBM Cloud->Manage->IAM->API Keys
# https://cloud.ibm.com/iam/apikeys
my_ic_apikey=$(jq -r .apikey < "${privatedir}apikey.json")

# save key in file from https://myibm.ibm.com/ -> container software library
# https://myibm.ibm.com/products-services/containerlibrary
my_entitlement_key=$(cat "${privatedir}ibm_container_entitlement_key.txt")
